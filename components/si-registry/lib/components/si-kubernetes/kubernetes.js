"use strict";

var _registry = require("../../registry");

/**
 * Field model for UI
 *
 * Alex's Notes...
 *
 * c.fields.addText({
 *   name: field ID
 *   label: UI display name
 *   description: short description of this field
 *   tooltip: quick info mouseover
 *   documentation: link to native docs
 * })
 *
 */
_registry.registry.base({
  typeName: "kubernetesMetadata",
  displayTypeName: "Kubernetes Meta Data",
  serviceName: "kubernetes",
  options: function options(c) {
    c.fields.addText({
      name: "name",
      label: "Name",
      options: function options(p) {
        p.required = true;
      }
    });
    c.fields.addMap({
      name: "labels",
      label: "Labels" // options(p: PropMap) {
      //   p.repeated = true;
      // }

    });
  }
});

_registry.registry.base({
  typeName: "kubernetesSelector",
  displayTypeName: "Kubernetes Label Selector",
  serviceName: "kubernetes",
  options: function options(c) {
    c.fields.addMap({
      name: "matchLabels",
      label: "Match Labels"
    });
  }
});

_registry.registry.base({
  typeName: "kubernetesContainer",
  displayTypeName: "Kubernetes Container Definition",
  serviceName: "kubernetes",
  options: function options(c) {
    c.fields.addText({
      name: "name",
      label: "Name"
    });
    c.fields.addText({
      name: "image",
      label: "Image"
    });
    c.fields.addLink({
      name: "ports",
      label: "Ports",
      options: function options(p) {
        p.repeated = true;
        p.lookup = {
          typeName: "kubernetesContainerPort"
        };
      }
    });
  }
});

_registry.registry.base({
  typeName: "kubernetesContainerPort",
  displayTypeName: "Kubernetes Container Port Definition",
  serviceName: "kubernetes",
  options: function options(c) {
    c.fields.addNumber({
      name: "containerPort",
      label: "Container Port",
      options: function options(p) {
        p.numberKind = "int32";
      }
    });
    c.fields.addText({
      name: "hostIp",
      // disabled auto/camelcase in graphql.ts for testing ...
      // name: "hostIP",
      label: "Host IP",
      options: function options(p) {
        p.hidden = true;
      }
    }); // temporary commenting out because it must be a number not a string.
    // need to clear empty fields before submitting..
    // c.fields.addNumber({
    //   name: "hostPort",
    //   label: "Host Port",
    //   options(p: PropNumber) {
    //     p.numberKind = "int32";
    //     p.hidden = false;
    //   },
    // });

    c.fields.addText({
      name: "name",
      label: "Name",
      options: function options(p) {
        p.hidden = true;
      }
    });
    c.fields.addText({
      name: "protocol",
      label: "Protocol",
      options: function options(p) {
        p.hidden = true;
      }
    });
  }
});

_registry.registry.base({
  typeName: "kubernetesPodSpec",
  displayTypeName: "Kubernetes Pod Spec",
  serviceName: "kubernetes",
  options: function options(c) {
    c.fields.addLink({
      name: "containers",
      label: "Containers",
      options: function options(p) {
        p.repeated = true;
        p.lookup = {
          typeName: "kubernetesContainer"
        };
      }
    });
  }
});

_registry.registry.base({
  typeName: "kubernetesPodTemplateSpec",
  displayTypeName: "Kubernetes Pod Template Spec",
  serviceName: "kubernetes",
  options: function options(c) {
    c.fields.addLink({
      name: "metadata",
      label: "Meta Data",
      options: function options(p) {
        p.lookup = {
          typeName: "kubernetesMetadata"
        };
      }
    });
    c.fields.addLink({
      name: "spec",
      label: "Pod Spec",
      options: function options(p) {
        p.lookup = {
          typeName: "kubernetesPodSpec"
        };
      }
    });
  }
});

_registry.registry.base({
  typeName: "kubernetesLoadBalancerStatus",
  displayTypeName: "Kubernetes Load Balancer Status",
  serviceName: "kubernetes",
  options: function options(c) {
    c.fields.addObject({
      name: "ingress",
      label: "Load Balancer Ingress",
      options: function options(p) {
        p.repeated = true;
        p.properties.addText({
          name: "hostname",
          label: "Hostname"
        });
        p.properties.addText({
          name: "ip",
          label: "IP"
        });
      }
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3NpLWt1YmVybmV0ZXMva3ViZXJuZXRlcy50cyJdLCJuYW1lcyI6WyJyZWdpc3RyeSIsImJhc2UiLCJ0eXBlTmFtZSIsImRpc3BsYXlUeXBlTmFtZSIsInNlcnZpY2VOYW1lIiwib3B0aW9ucyIsImMiLCJmaWVsZHMiLCJhZGRUZXh0IiwibmFtZSIsImxhYmVsIiwicCIsInJlcXVpcmVkIiwiYWRkTWFwIiwiYWRkTGluayIsInJlcGVhdGVkIiwibG9va3VwIiwiYWRkTnVtYmVyIiwibnVtYmVyS2luZCIsImhpZGRlbiIsImFkZE9iamVjdCIsInByb3BlcnRpZXMiXSwibWFwcGluZ3MiOiI7O0FBU0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7O0FBZUFBLG1CQUFTQyxJQUFULENBQWM7QUFDWkMsRUFBQUEsUUFBUSxFQUFFLG9CQURFO0FBRVpDLEVBQUFBLGVBQWUsRUFBRSxzQkFGTDtBQUdaQyxFQUFBQSxXQUFXLEVBQUUsWUFIRDtBQUlaQyxFQUFBQSxPQUpZLG1CQUlKQyxDQUpJLEVBSUQ7QUFDVEEsSUFBQUEsQ0FBQyxDQUFDQyxNQUFGLENBQVNDLE9BQVQsQ0FBaUI7QUFDZkMsTUFBQUEsSUFBSSxFQUFFLE1BRFM7QUFFZkMsTUFBQUEsS0FBSyxFQUFFLE1BRlE7QUFHZkwsTUFBQUEsT0FIZSxtQkFHUE0sQ0FITyxFQUdNO0FBQ25CQSxRQUFBQSxDQUFDLENBQUNDLFFBQUYsR0FBYSxJQUFiO0FBQ0Q7QUFMYyxLQUFqQjtBQU9BTixJQUFBQSxDQUFDLENBQUNDLE1BQUYsQ0FBU00sTUFBVCxDQUFnQjtBQUNkSixNQUFBQSxJQUFJLEVBQUUsUUFEUTtBQUVkQyxNQUFBQSxLQUFLLEVBQUUsUUFGTyxDQUdkO0FBQ0E7QUFDQTs7QUFMYyxLQUFoQjtBQU9EO0FBbkJXLENBQWQ7O0FBc0JBVixtQkFBU0MsSUFBVCxDQUFjO0FBQ1pDLEVBQUFBLFFBQVEsRUFBRSxvQkFERTtBQUVaQyxFQUFBQSxlQUFlLEVBQUUsMkJBRkw7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QUFDLENBQUNLLE1BQUYsR0FBVztBQUNUZCxVQUFBQSxRQUFRLEVBQUU7QUFERCxTQUFYO0FBR0Q7QUFQYyxLQUFqQjtBQVNEO0FBdkJXLENBQWQ7O0FBMEJBRixtQkFBU0MsSUFBVCxDQUFjO0FBQ1pDLEVBQUFBLFFBQVEsRUFBRSw4QkFERTtBQUVaQyxFQUFBQSxlQUFlLEVBQUUsaUNBRkw7QUFHWkMsRUFBQUEsV0FBVyxFQUFFLFlBSEQ7QUFJWkMsRUFBQUEsT0FKWSxtQkFJSkMsQ0FKSSxFQUlEO0FBQ1RBLElBQUFBLENBQUMsQ0FBQ0MsTUFBRixDQUFTYSxTQUFULENBQW1CO0FBQ2pCWCxNQUFBQSxJQUFJLEVBQUUsU0FEVztBQUVqQkMsTUFBQUEsS0FBSyxFQUFFLHVCQUZVO0FBR2pCTCxNQUFBQSxPQUhpQixtQkFHVE0sQ0FIUyxFQUdNO0FBQ3JCQSxRQUFBQSxDQUFDLENBQUNJLFFBQUYsR0FBYSxJQUFiO0FBQ0FKLFFBQUFBLENBQUMsQ0FBQ1UsVUFBRixDQUFhYixPQUFiLENBQXFCO0FBQ25CQyxVQUFBQSxJQUFJLEVBQUUsVUFEYTtBQUVuQkMsVUFBQUEsS0FBSyxFQUFFO0FBRlksU0FBckI7QUFJQUMsUUFBQUEsQ0FBQyxDQUFDVSxVQUFGLENBQWFiLE9BQWIsQ0FBcUI7QUFDbkJDLFVBQUFBLElBQUksRUFBRSxJQURhO0FBRW5CQyxVQUFBQSxLQUFLLEVBQUU7QUFGWSxTQUFyQjtBQUlEO0FBYmdCLEtBQW5CO0FBZUQ7QUFwQlcsQ0FBZCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFByb3BFbnVtLFxuICBQcm9wT2JqZWN0LFxuICBQcm9wVGV4dCxcbiAgUHJvcExpbmssXG4gIFByb3BOdW1iZXIsXG4gIFByb3BNYXAsXG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3ByZWx1ZGVcIjtcblxuaW1wb3J0IHsgcmVnaXN0cnkgfSBmcm9tIFwiLi4vLi4vcmVnaXN0cnlcIjtcblxuLyoqXG4gKiBGaWVsZCBtb2RlbCBmb3IgVUlcbiAqXG4gKiBBbGV4J3MgTm90ZXMuLi5cbiAqXG4gKiBjLmZpZWxkcy5hZGRUZXh0KHtcbiAqICAgbmFtZTogZmllbGQgSURcbiAqICAgbGFiZWw6IFVJIGRpc3BsYXkgbmFtZVxuICogICBkZXNjcmlwdGlvbjogc2hvcnQgZGVzY3JpcHRpb24gb2YgdGhpcyBmaWVsZFxuICogICB0b29sdGlwOiBxdWljayBpbmZvIG1vdXNlb3ZlclxuICogICBkb2N1bWVudGF0aW9uOiBsaW5rIHRvIG5hdGl2ZSBkb2NzXG4gKiB9KVxuICpcbiAqL1xuXG5yZWdpc3RyeS5iYXNlKHtcbiAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc01ldGFkYXRhXCIsXG4gIGRpc3BsYXlUeXBlTmFtZTogXCJLdWJlcm5ldGVzIE1ldGEgRGF0YVwiLFxuICBzZXJ2aWNlTmFtZTogXCJrdWJlcm5ldGVzXCIsXG4gIG9wdGlvbnMoYykge1xuICAgIGMuZmllbGRzLmFkZFRleHQoe1xuICAgICAgbmFtZTogXCJuYW1lXCIsXG4gICAgICBsYWJlbDogXCJOYW1lXCIsXG4gICAgICBvcHRpb25zKHA6IFByb3BUZXh0KSB7XG4gICAgICAgIHAucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICBjLmZpZWxkcy5hZGRNYXAoe1xuICAgICAgbmFtZTogXCJsYWJlbHNcIixcbiAgICAgIGxhYmVsOiBcIkxhYmVsc1wiLFxuICAgICAgLy8gb3B0aW9ucyhwOiBQcm9wTWFwKSB7XG4gICAgICAvLyAgIHAucmVwZWF0ZWQgPSB0cnVlO1xuICAgICAgLy8gfVxuICAgIH0pO1xuICB9LFxufSk7XG5cbnJlZ2lzdHJ5LmJhc2Uoe1xuICB0eXBlTmFtZTogXCJrdWJlcm5ldGVzU2VsZWN0b3JcIixcbiAgZGlzcGxheVR5cGVOYW1lOiBcIkt1YmVybmV0ZXMgTGFiZWwgU2VsZWN0b3JcIixcbiAgc2VydmljZU5hbWU6IFwia3ViZXJuZXRlc1wiLFxuICBvcHRpb25zKGMpIHtcbiAgICBjLmZpZWxkcy5hZGRNYXAoe1xuICAgICAgbmFtZTogXCJtYXRjaExhYmVsc1wiLFxuICAgICAgbGFiZWw6IFwiTWF0Y2ggTGFiZWxzXCIsXG4gICAgfSk7XG4gIH0sXG59KTtcblxucmVnaXN0cnkuYmFzZSh7XG4gIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNDb250YWluZXJcIixcbiAgZGlzcGxheVR5cGVOYW1lOiBcIkt1YmVybmV0ZXMgQ29udGFpbmVyIERlZmluaXRpb25cIixcbiAgc2VydmljZU5hbWU6IFwia3ViZXJuZXRlc1wiLFxuICBvcHRpb25zKGMpIHtcbiAgICBjLmZpZWxkcy5hZGRUZXh0KHtcbiAgICAgIG5hbWU6IFwibmFtZVwiLFxuICAgICAgbGFiZWw6IFwiTmFtZVwiLFxuICAgIH0pO1xuICAgIGMuZmllbGRzLmFkZFRleHQoe1xuICAgICAgbmFtZTogXCJpbWFnZVwiLFxuICAgICAgbGFiZWw6IFwiSW1hZ2VcIixcbiAgICB9KTtcbiAgICBjLmZpZWxkcy5hZGRMaW5rKHtcbiAgICAgIG5hbWU6IFwicG9ydHNcIixcbiAgICAgIGxhYmVsOiBcIlBvcnRzXCIsXG4gICAgICBvcHRpb25zKHA6IFByb3BMaW5rKSB7XG4gICAgICAgIHAucmVwZWF0ZWQgPSB0cnVlO1xuICAgICAgICBwLmxvb2t1cCA9IHtcbiAgICAgICAgICB0eXBlTmFtZTogXCJrdWJlcm5ldGVzQ29udGFpbmVyUG9ydFwiLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcbn0pO1xuXG5yZWdpc3RyeS5iYXNlKHtcbiAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc0NvbnRhaW5lclBvcnRcIixcbiAgZGlzcGxheVR5cGVOYW1lOiBcIkt1YmVybmV0ZXMgQ29udGFpbmVyIFBvcnQgRGVmaW5pdGlvblwiLFxuICBzZXJ2aWNlTmFtZTogXCJrdWJlcm5ldGVzXCIsXG4gIG9wdGlvbnMoYykge1xuICAgIGMuZmllbGRzLmFkZE51bWJlcih7XG4gICAgICBuYW1lOiBcImNvbnRhaW5lclBvcnRcIixcbiAgICAgIGxhYmVsOiBcIkNvbnRhaW5lciBQb3J0XCIsXG4gICAgICBvcHRpb25zKHA6IFByb3BOdW1iZXIpIHtcbiAgICAgICAgcC5udW1iZXJLaW5kID0gXCJpbnQzMlwiO1xuICAgICAgfSxcbiAgICB9KTtcbiAgICBjLmZpZWxkcy5hZGRUZXh0KHtcbiAgICAgIG5hbWU6IFwiaG9zdElwXCIsIC8vIGRpc2FibGVkIGF1dG8vY2FtZWxjYXNlIGluIGdyYXBocWwudHMgZm9yIHRlc3RpbmcgLi4uXG4gICAgICAvLyBuYW1lOiBcImhvc3RJUFwiLFxuICAgICAgbGFiZWw6IFwiSG9zdCBJUFwiLFxuICAgICAgb3B0aW9ucyhwOiBQcm9wVGV4dCkge1xuICAgICAgICBwLmhpZGRlbiA9IHRydWU7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIC8vIHRlbXBvcmFyeSBjb21tZW50aW5nIG91dCBiZWNhdXNlIGl0IG11c3QgYmUgYSBudW1iZXIgbm90IGEgc3RyaW5nLlxuICAgIC8vIG5lZWQgdG8gY2xlYXIgZW1wdHkgZmllbGRzIGJlZm9yZSBzdWJtaXR0aW5nLi5cbiAgICAvLyBjLmZpZWxkcy5hZGROdW1iZXIoe1xuICAgIC8vICAgbmFtZTogXCJob3N0UG9ydFwiLFxuICAgIC8vICAgbGFiZWw6IFwiSG9zdCBQb3J0XCIsXG4gICAgLy8gICBvcHRpb25zKHA6IFByb3BOdW1iZXIpIHtcbiAgICAvLyAgICAgcC5udW1iZXJLaW5kID0gXCJpbnQzMlwiO1xuICAgIC8vICAgICBwLmhpZGRlbiA9IGZhbHNlO1xuICAgIC8vICAgfSxcbiAgICAvLyB9KTtcbiAgICBjLmZpZWxkcy5hZGRUZXh0KHtcbiAgICAgIG5hbWU6IFwibmFtZVwiLFxuICAgICAgbGFiZWw6IFwiTmFtZVwiLFxuICAgICAgb3B0aW9ucyhwOiBQcm9wVGV4dCkge1xuICAgICAgICBwLmhpZGRlbiA9IHRydWU7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIGMuZmllbGRzLmFkZFRleHQoe1xuICAgICAgbmFtZTogXCJwcm90b2NvbFwiLFxuICAgICAgbGFiZWw6IFwiUHJvdG9jb2xcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcFRleHQpIHtcbiAgICAgICAgcC5oaWRkZW4gPSB0cnVlO1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcbn0pO1xuXG5yZWdpc3RyeS5iYXNlKHtcbiAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc1BvZFNwZWNcIixcbiAgZGlzcGxheVR5cGVOYW1lOiBcIkt1YmVybmV0ZXMgUG9kIFNwZWNcIixcbiAgc2VydmljZU5hbWU6IFwia3ViZXJuZXRlc1wiLFxuICBvcHRpb25zKGMpIHtcbiAgICBjLmZpZWxkcy5hZGRMaW5rKHtcbiAgICAgIG5hbWU6IFwiY29udGFpbmVyc1wiLFxuICAgICAgbGFiZWw6IFwiQ29udGFpbmVyc1wiLFxuICAgICAgb3B0aW9ucyhwOiBQcm9wTGluaykge1xuICAgICAgICBwLnJlcGVhdGVkID0gdHJ1ZTtcbiAgICAgICAgcC5sb29rdXAgPSB7XG4gICAgICAgICAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc0NvbnRhaW5lclwiLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9KTtcbiAgfSxcbn0pO1xuXG5yZWdpc3RyeS5iYXNlKHtcbiAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc1BvZFRlbXBsYXRlU3BlY1wiLFxuICBkaXNwbGF5VHlwZU5hbWU6IFwiS3ViZXJuZXRlcyBQb2QgVGVtcGxhdGUgU3BlY1wiLFxuICBzZXJ2aWNlTmFtZTogXCJrdWJlcm5ldGVzXCIsXG4gIG9wdGlvbnMoYykge1xuICAgIGMuZmllbGRzLmFkZExpbmsoe1xuICAgICAgbmFtZTogXCJtZXRhZGF0YVwiLFxuICAgICAgbGFiZWw6IFwiTWV0YSBEYXRhXCIsXG4gICAgICBvcHRpb25zKHA6IFByb3BMaW5rKSB7XG4gICAgICAgIHAubG9va3VwID0ge1xuICAgICAgICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNNZXRhZGF0YVwiLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICB9KTtcbiAgICBjLmZpZWxkcy5hZGRMaW5rKHtcbiAgICAgIG5hbWU6IFwic3BlY1wiLFxuICAgICAgbGFiZWw6IFwiUG9kIFNwZWNcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgcC5sb29rdXAgPSB7XG4gICAgICAgICAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc1BvZFNwZWNcIixcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0sXG59KTtcblxucmVnaXN0cnkuYmFzZSh7XG4gIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNMb2FkQmFsYW5jZXJTdGF0dXNcIixcbiAgZGlzcGxheVR5cGVOYW1lOiBcIkt1YmVybmV0ZXMgTG9hZCBCYWxhbmNlciBTdGF0dXNcIixcbiAgc2VydmljZU5hbWU6IFwia3ViZXJuZXRlc1wiLFxuICBvcHRpb25zKGMpIHtcbiAgICBjLmZpZWxkcy5hZGRPYmplY3Qoe1xuICAgICAgbmFtZTogXCJpbmdyZXNzXCIsXG4gICAgICBsYWJlbDogXCJMb2FkIEJhbGFuY2VyIEluZ3Jlc3NcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcE9iamVjdCkge1xuICAgICAgICBwLnJlcGVhdGVkID0gdHJ1ZTtcbiAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZFRleHQoe1xuICAgICAgICAgIG5hbWU6IFwiaG9zdG5hbWVcIixcbiAgICAgICAgICBsYWJlbDogXCJIb3N0bmFtZVwiLFxuICAgICAgICB9KTtcbiAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZFRleHQoe1xuICAgICAgICAgIG5hbWU6IFwiaXBcIixcbiAgICAgICAgICBsYWJlbDogXCJJUFwiLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0sXG59KTtcbiJdfQ==