"use strict";

var _registry = require("../../registry");

_registry.registry.componentAndEntity({
  typeName: "kubernetesDeployment",
  displayTypeName: "Kubernetes Deployment Object",
  siPathName: "si-kubernetes",
  serviceName: "kubernetes",
  options: function options(c) {
    c.entity.associations.belongsTo({
      fromFieldPath: ["siProperties", "billingAccountId"],
      typeName: "billingAccount"
    }); // Constraints

    c.constraints.addEnum({
      name: "kubernetesVersion",
      label: "Kubernetes Version",
      options: function options(p) {
        p.variants = ["v1.12", "v1.13", "v1.14", "v1.15"];
      }
    }); // Properties

    c.properties.addObject({
      name: "kubernetesObject",
      label: "Kubernetes Object",
      options: function options(p) {
        p.relationships.updates({
          partner: {
            typeName: "kubernetesDeployment",
            names: ["kubernetesObjectYaml"]
          }
        });
        p.relationships.either({
          partner: {
            typeName: "kubernetesDeployment",
            names: ["kubernetesObjectYaml"]
          }
        });
        p.properties.addText({
          name: "apiVersion",
          label: "API Version",
          options: function options(p) {
            p.required = true;
          }
        });
        p.properties.addText({
          name: "kind",
          label: "Kind",
          options: function options(p) {
            p.required = true;
            p.baseDefaultValue = "Deployment";
          }
        });
        p.properties.addLink({
          name: "metadata",
          label: "Metadata",
          options: function options(p) {
            p.lookup = {
              typeName: "kubernetesMetadata"
            };
          }
        });
        p.properties.addObject({
          name: "spec",
          label: "Deployment Spec",
          options: function options(p) {
            p.properties.addNumber({
              name: "replicas",
              label: "Replicas",
              options: function options(p) {
                p.numberKind = "uint32";
              }
            });
            p.properties.addLink({
              name: "selector",
              label: "Selector",
              options: function options(p) {
                p.lookup = {
                  typeName: "kubernetesSelector"
                };
              }
            });
            p.properties.addLink({
              name: "template",
              label: "Pod Template Spec",
              options: function options(p) {
                p.lookup = {
                  typeName: "kubernetesPodTemplateSpec"
                };
              }
            });
          }
        });
      }
    });
    c.properties.addCode({
      name: "kubernetesObjectYaml",
      label: "Kubernetes Object YAML",
      options: function options(p) {
        p.relationships.updates({
          partner: {
            typeName: "kubernetesDeployment",
            names: ["kubernetesObject"]
          }
        });
        p.relationships.either({
          partner: {
            typeName: "kubernetesDeployment",
            names: ["kubernetesObject"]
          }
        });
        p.language = "yaml";
      }
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3NpLWt1YmVybmV0ZXMvZGVwbG95bWVudC50cyJdLCJuYW1lcyI6WyJyZWdpc3RyeSIsImNvbXBvbmVudEFuZEVudGl0eSIsInR5cGVOYW1lIiwiZGlzcGxheVR5cGVOYW1lIiwic2lQYXRoTmFtZSIsInNlcnZpY2VOYW1lIiwib3B0aW9ucyIsImMiLCJlbnRpdHkiLCJhc3NvY2lhdGlvbnMiLCJiZWxvbmdzVG8iLCJmcm9tRmllbGRQYXRoIiwiY29uc3RyYWludHMiLCJhZGRFbnVtIiwibmFtZSIsImxhYmVsIiwicCIsInZhcmlhbnRzIiwicHJvcGVydGllcyIsImFkZE9iamVjdCIsInJlbGF0aW9uc2hpcHMiLCJ1cGRhdGVzIiwicGFydG5lciIsIm5hbWVzIiwiZWl0aGVyIiwiYWRkVGV4dCIsInJlcXVpcmVkIiwiYmFzZURlZmF1bHRWYWx1ZSIsImFkZExpbmsiLCJsb29rdXAiLCJhZGROdW1iZXIiLCJudW1iZXJLaW5kIiwiYWRkQ29kZSIsImxhbmd1YWdlIl0sIm1hcHBpbmdzIjoiOztBQVFBOztBQUVBQSxtQkFBU0Msa0JBQVQsQ0FBNEI7QUFDMUJDLEVBQUFBLFFBQVEsRUFBRSxzQkFEZ0I7QUFFMUJDLEVBQUFBLGVBQWUsRUFBRSw4QkFGUztBQUcxQkMsRUFBQUEsVUFBVSxFQUFFLGVBSGM7QUFJMUJDLEVBQUFBLFdBQVcsRUFBRSxZQUphO0FBSzFCQyxFQUFBQSxPQUwwQixtQkFLbEJDLENBTGtCLEVBS2Y7QUFDVEEsSUFBQUEsQ0FBQyxDQUFDQyxNQUFGLENBQVNDLFlBQVQsQ0FBc0JDLFNBQXRCLENBQWdDO0FBQzlCQyxNQUFBQSxhQUFhLEVBQUUsQ0FBQyxjQUFELEVBQWlCLGtCQUFqQixDQURlO0FBRTlCVCxNQUFBQSxRQUFRLEVBQUU7QUFGb0IsS0FBaEMsRUFEUyxDQU1UOztBQUNBSyxJQUFBQSxDQUFDLENBQUNLLFdBQUYsQ0FBY0MsT0FBZCxDQUFzQjtBQUNwQkMsTUFBQUEsSUFBSSxFQUFF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QURELGlCQUFYO0FBR0Q7QUFQa0IsYUFBckI7QUFTQWMsWUFBQUEsQ0FBQyxDQUFDRSxVQUFGLENBQWFVLE9BQWIsQ0FBcUI7QUFDbkJkLGNBQUFBLElBQUksRUFBRSxVQURhO0FBRW5CQyxjQUFBQSxLQUFLLEVBQUUsbUJBRlk7QUFHbkJULGNBQUFBLE9BSG1CLG1CQUdYVSxDQUhXLEVBR0U7QUFDbkJBLGdCQUFBQSxDQUFDLENBQUNhLE1BQUYsR0FBVztBQUNUM0Isa0JBQUFBLFFBQVEsRUFBRTtBQURELGlCQUFYO0FBR0Q7QUFQa0IsYUFBckI7QUFTRDtBQTdCb0IsU0FBdkI7QUErQkQ7QUF2RW9CLEtBQXZCO0FBMEVBSyxJQUFBQSxDQUFDLENBQUNXLFVBQUYsQ0FBYWMsT0FBYixDQUFxQjtBQUNuQmxCLE1BQUFBLElBQUksRUFBRSxzQkFEYTtBQUVuQkMsTUFBQUEsS0FBSyxFQUFFLHdCQUZZO0FBR25CVCxNQUFBQSxPQUhtQixtQkFHWFUsQ0FIVyxFQUdFO0FBQ25CQSxRQUFBQSxDQUFDLENBQUNJLGFBQUYsQ0FBZ0JDLE9BQWhCLENBQXdCO0FBQ3RCQyxVQUFBQSxPQUFPLEVBQUU7QUFDUHBCLFlBQUFBLFFBQVEsRUFBRSxzQkFESDtBQUVQcUIsWUFBQUEsS0FBSyxFQUFFLENBQUMsa0JBQUQ7QUFGQTtBQURhLFNBQXhCO0FBTUFQLFFBQUFBLENBQUMsQ0FBQ0ksYUFBRixDQUFnQkksTUFBaEIsQ0FBdUI7QUFDckJGLFVBQUFBLE9BQU8sRUFBRTtBQUNQcEIsWUFBQUEsUUFBUSxFQUFFLHNCQURIO0FBRVBxQixZQUFBQSxLQUFLLEVBQUUsQ0FBQyxrQkFBRDtBQUZBO0FBRFksU0FBdkI7QUFNQVAsUUFBQUEsQ0FBQyxDQUFDaUIsUUFBRixHQUFhLE1BQWI7QUFDRDtBQWpCa0IsS0FBckI7QUFtQkQ7QUFsSHlCLENBQTVCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgUHJvcE9iamVjdCxcbiAgUHJvcFRleHQsXG4gIFByb3BMaW5rLFxuICBQcm9wTnVtYmVyLFxuICBQcm9wRW51bSxcbiAgUHJvcENvZGUsXG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3ByZWx1ZGVcIjtcbmltcG9ydCB7IHJlZ2lzdHJ5IH0gZnJvbSBcIi4uLy4uL3JlZ2lzdHJ5XCI7XG5cbnJlZ2lzdHJ5LmNvbXBvbmVudEFuZEVudGl0eSh7XG4gIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNEZXBsb3ltZW50XCIsXG4gIGRpc3BsYXlUeXBlTmFtZTogXCJLdWJlcm5ldGVzIERlcGxveW1lbnQgT2JqZWN0XCIsXG4gIHNpUGF0aE5hbWU6IFwic2kta3ViZXJuZXRlc1wiLFxuICBzZXJ2aWNlTmFtZTogXCJrdWJlcm5ldGVzXCIsXG4gIG9wdGlvbnMoYykge1xuICAgIGMuZW50aXR5LmFzc29jaWF0aW9ucy5iZWxvbmdzVG8oe1xuICAgICAgZnJvbUZpZWxkUGF0aDogW1wic2lQcm9wZXJ0aWVzXCIsIFwiYmlsbGluZ0FjY291bnRJZFwiXSxcbiAgICAgIHR5cGVOYW1lOiBcImJpbGxpbmdBY2NvdW50XCIsXG4gICAgfSk7XG5cbiAgICAvLyBDb25zdHJhaW50c1xuICAgIGMuY29uc3RyYWludHMuYWRkRW51bSh7XG4gICAgICBuYW1lOiBcImt1YmVybmV0ZXNWZXJzaW9uXCIsXG4gICAgICBsYWJlbDogXCJLdWJlcm5ldGVzIFZlcnNpb25cIixcbiAgICAgIG9wdGlvbnMocDogUHJvcEVudW0pIHtcbiAgICAgICAgcC52YXJpYW50cyA9IFtcInYxLjEyXCIsIFwidjEuMTNcIiwgXCJ2MS4xNFwiLCBcInYxLjE1XCJdO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIFByb3BlcnRpZXNcbiAgICBjLnByb3BlcnRpZXMuYWRkT2JqZWN0KHtcbiAgICAgIG5hbWU6IFwia3ViZXJuZXRlc09iamVjdFwiLFxuICAgICAgbGFiZWw6IFwiS3ViZXJuZXRlcyBPYmplY3RcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcE9iamVjdCkge1xuICAgICAgICBwLnJlbGF0aW9uc2hpcHMudXBkYXRlcyh7XG4gICAgICAgICAgcGFydG5lcjoge1xuICAgICAgICAgICAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc0RlcGxveW1lbnRcIixcbiAgICAgICAgICAgIG5hbWVzOiBbXCJrdWJlcm5ldGVzT2JqZWN0WWFtbFwiXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5yZWxhdGlvbnNoaXBzLmVpdGhlcih7XG4gICAgICAgICAgcGFydG5lcjoge1xuICAgICAgICAgICAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc0RlcGxveW1lbnRcIixcbiAgICAgICAgICAgIG5hbWVzOiBbXCJrdWJlcm5ldGVzT2JqZWN0WWFtbFwiXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZFRleHQoe1xuICAgICAgICAgIG5hbWU6IFwiYXBpVmVyc2lvblwiLFxuICAgICAgICAgIGxhYmVsOiBcIkFQSSBWZXJzaW9uXCIsXG4gICAgICAgICAgb3B0aW9ucyhwOiBQcm9wVGV4dCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucHJvcGVydGllcy5hZGRUZXh0KHtcbiAgICAgICAgICBuYW1lOiBcImtpbmRcIixcbiAgICAgICAgICBsYWJlbDogXCJLaW5kXCIsXG4gICAgICAgICAgb3B0aW9ucyhwOiBQcm9wVGV4dCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICBwLmJhc2VEZWZhdWx0VmFsdWUgPSBcIkRlcGxveW1lbnRcIjtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZExpbmsoe1xuICAgICAgICAgIG5hbWU6IFwibWV0YWRhdGFcIixcbiAgICAgICAgICBsYWJlbDogXCJNZXRhZGF0YVwiLFxuICAgICAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgICAgIHAubG9va3VwID0ge1xuICAgICAgICAgICAgICB0eXBlTmFtZTogXCJrdWJlcm5ldGVzTWV0YWRhdGFcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucHJvcGVydGllcy5hZGRPYmplY3Qoe1xuICAgICAgICAgIG5hbWU6IFwic3BlY1wiLFxuICAgICAgICAgIGxhYmVsOiBcIkRlcGxveW1lbnQgU3BlY1wiLFxuICAgICAgICAgIG9wdGlvbnMocDogUHJvcE9iamVjdCkge1xuICAgICAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZE51bWJlcih7XG4gICAgICAgICAgICAgIG5hbWU6IFwicmVwbGljYXNcIixcbiAgICAgICAgICAgICAgbGFiZWw6IFwiUmVwbGljYXNcIixcbiAgICAgICAgICAgICAgb3B0aW9ucyhwOiBQcm9wTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgcC5udW1iZXJLaW5kID0gXCJ1aW50MzJcIjtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZExpbmsoe1xuICAgICAgICAgICAgICBuYW1lOiBcInNlbGVjdG9yXCIsXG4gICAgICAgICAgICAgIGxhYmVsOiBcIlNlbGVjdG9yXCIsXG4gICAgICAgICAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgICAgICAgICBwLmxvb2t1cCA9IHtcbiAgICAgICAgICAgICAgICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNTZWxlY3RvclwiLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHAucHJvcGVydGllcy5hZGRMaW5rKHtcbiAgICAgICAgICAgICAgbmFtZTogXCJ0ZW1wbGF0ZVwiLFxuICAgICAgICAgICAgICBsYWJlbDogXCJQb2QgVGVtcGxhdGUgU3BlY1wiLFxuICAgICAgICAgICAgICBvcHRpb25zKHA6IFByb3BMaW5rKSB7XG4gICAgICAgICAgICAgICAgcC5sb29rdXAgPSB7XG4gICAgICAgICAgICAgICAgICB0eXBlTmFtZTogXCJrdWJlcm5ldGVzUG9kVGVtcGxhdGVTcGVjXCIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGMucHJvcGVydGllcy5hZGRDb2RlKHtcbiAgICAgIG5hbWU6IFwia3ViZXJuZXRlc09iamVjdFlhbWxcIixcbiAgICAgIGxhYmVsOiBcIkt1YmVybmV0ZXMgT2JqZWN0IFlBTUxcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcENvZGUpIHtcbiAgICAgICAgcC5yZWxhdGlvbnNoaXBzLnVwZGF0ZXMoe1xuICAgICAgICAgIHBhcnRuZXI6IHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNEZXBsb3ltZW50XCIsXG4gICAgICAgICAgICBuYW1lczogW1wia3ViZXJuZXRlc09iamVjdFwiXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5yZWxhdGlvbnNoaXBzLmVpdGhlcih7XG4gICAgICAgICAgcGFydG5lcjoge1xuICAgICAgICAgICAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc0RlcGxveW1lbnRcIixcbiAgICAgICAgICAgIG5hbWVzOiBbXCJrdWJlcm5ldGVzT2JqZWN0XCJdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBwLmxhbmd1YWdlID0gXCJ5YW1sXCI7XG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxufSk7XG4iXX0=