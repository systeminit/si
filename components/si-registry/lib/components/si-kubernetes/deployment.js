"use strict";

var _registry = require("../../registry");

_registry.registry.componentAndEntity({
  typeName: "kubernetesDeployment",
  displayTypeName: "Kubernetes Deployment Object",
  siPathName: "si-kubernetes",
  serviceName: "kubernetes",
  options: function options(c) {
    c.entity.associations.belongsTo({
      fromFieldPath: ["siProperties", "billingAccountId"],
      typeName: "billingAccount"
    });
    c.entity.integrationServices.push({
      integrationName: "aws",
      integrationServiceName: "eks_kubernetes"
    }); // Constraints

    c.constraints.addEnum({
      name: "kubernetesVersion",
      label: "Kubernetes Version",
      options: function options(p) {
        p.variants = ["v1.12", "v1.13", "v1.14", "v1.15"];
        p.baseDefaultValue = "v1.15";
      }
    }); // Properties

    c.properties.addObject({
      name: "kubernetesObject",
      label: "Kubernetes Object",
      options: function options(p) {
        p.relationships.updates({
          partner: {
            typeName: "kubernetesDeploymentEntity",
            names: ["properties", "kubernetesObjectYaml"]
          }
        });
        p.relationships.either({
          partner: {
            typeName: "kubernetesDeploymentEntity",
            names: ["properties", "kubernetesObjectYaml"]
          }
        });
        p.properties.addText({
          name: "apiVersion",
          label: "API Version",
          options: function options(p) {
            p.required = true;
          }
        });
        p.properties.addText({
          name: "kind",
          label: "Kind",
          options: function options(p) {
            p.required = true;
            p.baseDefaultValue = "Deployment";
          }
        });
        p.properties.addLink({
          name: "metadata",
          label: "Metadata",
          options: function options(p) {
            p.lookup = {
              typeName: "kubernetesMetadata"
            };
          }
        });
        p.properties.addObject({
          name: "spec",
          label: "Deployment Spec",
          options: function options(p) {
            p.properties.addNumber({
              name: "replicas",
              label: "Replicas",
              options: function options(p) {
                p.numberKind = "int32";
              }
            });
            p.properties.addLink({
              name: "selector",
              label: "Selector",
              options: function options(p) {
                p.lookup = {
                  typeName: "kubernetesSelector"
                };
              }
            });
            p.properties.addLink({
              name: "template",
              label: "Pod Template Spec",
              options: function options(p) {
                p.lookup = {
                  typeName: "kubernetesPodTemplateSpec"
                };
              }
            });
          }
        });
      }
    });
    c.properties.addCode({
      name: "kubernetesObjectYaml",
      label: "Kubernetes Object YAML",
      options: function options(p) {
        p.relationships.updates({
          partner: {
            typeName: "kubernetesDeploymentEntity",
            names: ["properties", "kubernetesObject"]
          }
        });
        p.relationships.either({
          partner: {
            typeName: "kubernetesDeploymentEntity",
            names: ["properties", "kubernetesObject"]
          }
        });
        p.language = "yaml";
      }
    }); // Entity Actions

    c.entity.methods.addAction({
      name: "apply",
      label: "Apply",
      options: function options(p) {
        p.mutation = true;
      }
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3NpLWt1YmVybmV0ZXMvZGVwbG95bWVudC50cyJdLCJuYW1lcyI6WyJyZWdpc3RyeSIsImNvbXBvbmVudEFuZEVudGl0eSIsInR5cGVOYW1lIiwiZGlzcGxheVR5cGVOYW1lIiwic2lQYXRoTmFtZSIsInNlcnZpY2VOYW1lIiwib3B0aW9ucyIsImMiLCJlbnRpdHkiLCJhc3NvY2lhdGlvbnMiLCJiZWxvbmdzVG8iLCJmcm9tRmllbGRQYXRoIiwiaW50ZWdyYXRpb25TZXJ2aWNlcyIsInB1c2giLCJpbnRlZ3JhdGlvbk5hbWUiLCJpbnRlZ3JhdGlvblNlcnZpY2VOYW1lIiwiY29uc3RyYWludHMiLCJhZGRFbnVtIiwibmFtZSIsImxhYmVsIiwicCIsInZhcmlhbnRzIiwiYmFzZURlZmF1bHRWYWx1ZSIsInByb3BlcnRpZXMiLCJhZGRPYmplY3QiLCJyZWxhdGlvbnNoaXBzIiwidXBkYXRlcyIsInBhcnRuZXIiLCJuYW1lcyIsImVpdGhlciIsImFkZFRleHQiLCJyZXF1aXJlZCIsImFkZExpbmsiLCJsb29rdXAiLCJhZGROdW1iZXIiLCJudW1iZXJLaW5kIiwiYWRkQ29kZSIsImxhbmd1YWdlIiwibWV0aG9kcyIsImFkZEFjdGlvbiIsIm11dGF0aW9uIl0sIm1hcHBpbmdzIjoiOztBQVNBOztBQUVBQSxtQkFBU0Msa0JBQVQsQ0FBNEI7QUFDMUJDLEVBQUFBLFFBQVEsRUFBRSxzQkFEZ0I7QUFFMUJDLEVBQUFBLGVBQWUsRUFBRSw4QkFGUztBQUcxQkMsRUFBQUEsVUFBVSxFQUFFLGVBSGM7QUFJMUJDLEVBQUFBLFdBQVcsRUFBRSxZQUphO0FBSzFCQyxFQUFBQSxPQUwwQixtQkFLbEJDLENBTGtCLEVBS2Y7QUFDVEEsSUFBQUEsQ0FBQyxDQUFDQyxNQUFGLENBQVNDLFlBQVQsQ0FBc0JDLFNBQXRCLENBQWdDO0FBQzlCQyxNQUFBQSxhQUFhLEVBQUUsQ0FBQyxjQUFELEVBQWlCLGtCQUFqQixDQURlO0FBRTlCVCxN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LENBQUNLLGFBQUYsQ0FBZ0JJLE1BQWhCLENBQXVCO0FBQ3JCRixVQUFBQSxPQUFPLEVBQUU7QUFDUHpCLFlBQUFBLFFBQVEsRUFBRSw0QkFESDtBQUVQMEIsWUFBQUEsS0FBSyxFQUFFLENBQUMsWUFBRCxFQUFlLGtCQUFmO0FBRkE7QUFEWSxTQUF2QjtBQU1BUixRQUFBQSxDQUFDLENBQUNpQixRQUFGLEdBQWEsTUFBYjtBQUNEO0FBakJrQixLQUFyQixFQTlGUyxDQWtIVDs7QUFDQTlCLElBQUFBLENBQUMsQ0FBQ0MsTUFBRixDQUFTOEIsT0FBVCxDQUFpQkMsU0FBakIsQ0FBMkI7QUFDekJyQixNQUFBQSxJQUFJLEVBQUUsT0FEbUI7QUFFekJDLE1BQUFBLEtBQUssRUFBRSxPQUZrQjtBQUd6QmIsTUFBQUEsT0FIeUIsbUJBR2pCYyxDQUhpQixFQUdGO0FBQ3JCQSxRQUFBQSxDQUFDLENBQUNvQixRQUFGLEdBQWEsSUFBYjtBQUNEO0FBTHdCLEtBQTNCO0FBT0Q7QUEvSHlCLENBQTVCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgUHJvcE9iamVjdCxcbiAgUHJvcFRleHQsXG4gIFByb3BMaW5rLFxuICBQcm9wTnVtYmVyLFxuICBQcm9wRW51bSxcbiAgUHJvcENvZGUsXG4gIFByb3BBY3Rpb24sXG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3ByZWx1ZGVcIjtcbmltcG9ydCB7IHJlZ2lzdHJ5IH0gZnJvbSBcIi4uLy4uL3JlZ2lzdHJ5XCI7XG5cbnJlZ2lzdHJ5LmNvbXBvbmVudEFuZEVudGl0eSh7XG4gIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNEZXBsb3ltZW50XCIsXG4gIGRpc3BsYXlUeXBlTmFtZTogXCJLdWJlcm5ldGVzIERlcGxveW1lbnQgT2JqZWN0XCIsXG4gIHNpUGF0aE5hbWU6IFwic2kta3ViZXJuZXRlc1wiLFxuICBzZXJ2aWNlTmFtZTogXCJrdWJlcm5ldGVzXCIsXG4gIG9wdGlvbnMoYykge1xuICAgIGMuZW50aXR5LmFzc29jaWF0aW9ucy5iZWxvbmdzVG8oe1xuICAgICAgZnJvbUZpZWxkUGF0aDogW1wic2lQcm9wZXJ0aWVzXCIsIFwiYmlsbGluZ0FjY291bnRJZFwiXSxcbiAgICAgIHR5cGVOYW1lOiBcImJpbGxpbmdBY2NvdW50XCIsXG4gICAgfSk7XG4gICAgYy5lbnRpdHkuaW50ZWdyYXRpb25TZXJ2aWNlcy5wdXNoKHtcbiAgICAgIGludGVncmF0aW9uTmFtZTogXCJhd3NcIixcbiAgICAgIGludGVncmF0aW9uU2VydmljZU5hbWU6IFwiZWtzX2t1YmVybmV0ZXNcIixcbiAgICB9KTtcblxuICAgIC8vIENvbnN0cmFpbnRzXG4gICAgYy5jb25zdHJhaW50cy5hZGRFbnVtKHtcbiAgICAgIG5hbWU6IFwia3ViZXJuZXRlc1ZlcnNpb25cIixcbiAgICAgIGxhYmVsOiBcIkt1YmVybmV0ZXMgVmVyc2lvblwiLFxuICAgICAgb3B0aW9ucyhwOiBQcm9wRW51bSkge1xuICAgICAgICBwLnZhcmlhbnRzID0gW1widjEuMTJcIiwgXCJ2MS4xM1wiLCBcInYxLjE0XCIsIFwidjEuMTVcIl07XG4gICAgICAgIHAuYmFzZURlZmF1bHRWYWx1ZSA9IFwidjEuMTVcIjtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgYy5wcm9wZXJ0aWVzLmFkZE9iamVjdCh7XG4gICAgICBuYW1lOiBcImt1YmVybmV0ZXNPYmplY3RcIixcbiAgICAgIGxhYmVsOiBcIkt1YmVybmV0ZXMgT2JqZWN0XCIsXG4gICAgICBvcHRpb25zKHA6IFByb3BPYmplY3QpIHtcbiAgICAgICAgcC5yZWxhdGlvbnNoaXBzLnVwZGF0ZXMoe1xuICAgICAgICAgIHBhcnRuZXI6IHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNEZXBsb3ltZW50RW50aXR5XCIsXG4gICAgICAgICAgICBuYW1lczogW1wicHJvcGVydGllc1wiLCBcImt1YmVybmV0ZXNPYmplY3RZYW1sXCJdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBwLnJlbGF0aW9uc2hpcHMuZWl0aGVyKHtcbiAgICAgICAgICBwYXJ0bmVyOiB7XG4gICAgICAgICAgICB0eXBlTmFtZTogXCJrdWJlcm5ldGVzRGVwbG95bWVudEVudGl0eVwiLFxuICAgICAgICAgICAgbmFtZXM6IFtcInByb3BlcnRpZXNcIiwgXCJrdWJlcm5ldGVzT2JqZWN0WWFtbFwiXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZFRleHQoe1xuICAgICAgICAgIG5hbWU6IFwiYXBpVmVyc2lvblwiLFxuICAgICAgICAgIGxhYmVsOiBcIkFQSSBWZXJzaW9uXCIsXG4gICAgICAgICAgb3B0aW9ucyhwOiBQcm9wVGV4dCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucHJvcGVydGllcy5hZGRUZXh0KHtcbiAgICAgICAgICBuYW1lOiBcImtpbmRcIixcbiAgICAgICAgICBsYWJlbDogXCJLaW5kXCIsXG4gICAgICAgICAgb3B0aW9ucyhwOiBQcm9wVGV4dCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICBwLmJhc2VEZWZhdWx0VmFsdWUgPSBcIkRlcGxveW1lbnRcIjtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZExpbmsoe1xuICAgICAgICAgIG5hbWU6IFwibWV0YWRhdGFcIixcbiAgICAgICAgICBsYWJlbDogXCJNZXRhZGF0YVwiLFxuICAgICAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgICAgIHAubG9va3VwID0ge1xuICAgICAgICAgICAgICB0eXBlTmFtZTogXCJrdWJlcm5ldGVzTWV0YWRhdGFcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucHJvcGVydGllcy5hZGRPYmplY3Qoe1xuICAgICAgICAgIG5hbWU6IFwic3BlY1wiLFxuICAgICAgICAgIGxhYmVsOiBcIkRlcGxveW1lbnQgU3BlY1wiLFxuICAgICAgICAgIG9wdGlvbnMocDogUHJvcE9iamVjdCkge1xuICAgICAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZE51bWJlcih7XG4gICAgICAgICAgICAgIG5hbWU6IFwicmVwbGljYXNcIixcbiAgICAgICAgICAgICAgbGFiZWw6IFwiUmVwbGljYXNcIixcbiAgICAgICAgICAgICAgb3B0aW9ucyhwOiBQcm9wTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgcC5udW1iZXJLaW5kID0gXCJpbnQzMlwiO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwLnByb3BlcnRpZXMuYWRkTGluayh7XG4gICAgICAgICAgICAgIG5hbWU6IFwic2VsZWN0b3JcIixcbiAgICAgICAgICAgICAgbGFiZWw6IFwiU2VsZWN0b3JcIixcbiAgICAgICAgICAgICAgb3B0aW9ucyhwOiBQcm9wTGluaykge1xuICAgICAgICAgICAgICAgIHAubG9va3VwID0ge1xuICAgICAgICAgICAgICAgICAgdHlwZU5hbWU6IFwia3ViZXJuZXRlc1NlbGVjdG9yXCIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZExpbmsoe1xuICAgICAgICAgICAgICBuYW1lOiBcInRlbXBsYXRlXCIsXG4gICAgICAgICAgICAgIGxhYmVsOiBcIlBvZCBUZW1wbGF0ZSBTcGVjXCIsXG4gICAgICAgICAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgICAgICAgICBwLmxvb2t1cCA9IHtcbiAgICAgICAgICAgICAgICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNQb2RUZW1wbGF0ZVNwZWNcIixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIGMucHJvcGVydGllcy5hZGRDb2RlKHtcbiAgICAgIG5hbWU6IFwia3ViZXJuZXRlc09iamVjdFlhbWxcIixcbiAgICAgIGxhYmVsOiBcIkt1YmVybmV0ZXMgT2JqZWN0IFlBTUxcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcENvZGUpIHtcbiAgICAgICAgcC5yZWxhdGlvbnNoaXBzLnVwZGF0ZXMoe1xuICAgICAgICAgIHBhcnRuZXI6IHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNEZXBsb3ltZW50RW50aXR5XCIsXG4gICAgICAgICAgICBuYW1lczogW1wicHJvcGVydGllc1wiLCBcImt1YmVybmV0ZXNPYmplY3RcIl0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucmVsYXRpb25zaGlwcy5laXRoZXIoe1xuICAgICAgICAgIHBhcnRuZXI6IHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNEZXBsb3ltZW50RW50aXR5XCIsXG4gICAgICAgICAgICBuYW1lczogW1wicHJvcGVydGllc1wiLCBcImt1YmVybmV0ZXNPYmplY3RcIl0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAubGFuZ3VhZ2UgPSBcInlhbWxcIjtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBFbnRpdHkgQWN0aW9uc1xuICAgIGMuZW50aXR5Lm1ldGhvZHMuYWRkQWN0aW9uKHtcbiAgICAgIG5hbWU6IFwiYXBwbHlcIixcbiAgICAgIGxhYmVsOiBcIkFwcGx5XCIsXG4gICAgICBvcHRpb25zKHA6IFByb3BBY3Rpb24pIHtcbiAgICAgICAgcC5tdXRhdGlvbiA9IHRydWU7XG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxufSk7XG4iXX0=