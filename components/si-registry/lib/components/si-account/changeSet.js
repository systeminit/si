"use strict";

var _registry = require("../../registry");

_registry.registry.system({
  typeName: "changeSet",
  displayTypeName: "A change set for your system",
  siPathName: "si-account",
  serviceName: "account",
  options: function options(c) {
    c.associations.belongsTo({
      fromFieldPath: ["siProperties", "billingAccountId"],
      typeName: "billingAccount"
    });
    c.associations.belongsTo({
      fromFieldPath: ["siProperties", "organizationId"],
      typeName: "organization"
    });
    c.associations.belongsTo({
      fromFieldPath: ["siProperties", "workspaceId"],
      typeName: "workspace"
    });
    c.fields.addObject({
      name: "siProperties",
      label: "SI Internal Properties",
      options: function options(p) {
        p.required = true;
        p.properties.addText({
          name: "billingAccountId",
          label: "Billing Account ID",
          options: function options(p) {
            p.required = true;
          }
        });
        p.properties.addText({
          name: "organizationId",
          label: "Organization ID",
          options: function options(p) {
            p.required = true;
          }
        });
        p.properties.addText({
          name: "workspaceId",
          label: "Organization ID",
          options: function options(p) {
            p.required = true;
          }
        });
      }
    });
    c.fields.addText({
      name: "createdByUserId",
      label: "User ID who created this Change Set",
      options: function options(p) {
        p.required = true;
      }
    });
    c.fields.addNumber({
      name: "entryCount",
      label: "Entry Count",
      options: function options(p) {
        p.numberKind = "uint64";
        p.baseDefaultValue = "0";
      }
    });
    c.fields.addEnum({
      name: "status",
      label: "The status of this Change Set",
      options: function options(p) {
        p.variants = ["open", "closed", "abandoned"];
        p.baseDefaultValue = "open";
      }
    });
    c.addListMethod();
    c.addGetMethod();
    c.methods.addMethod({
      name: "create",
      label: "Create a Change Set",
      options: function options(p) {
        p.mutation = true;
        p.request.properties.addText({
          name: "name",
          label: "Name of the changeset",
          options: function options(p) {
            p.required = true;
          }
        });
        p.request.properties.addText({
          name: "displayName",
          label: "Change Set display name",
          options: function options(p) {
            p.required = true;
          }
        });
        p.request.properties.addLink({
          name: "siProperties",
          label: "The SI Properties for this User",
          options: function options(p) {
            p.required = true;
            p.lookup = {
              typeName: "changeSet",
              names: ["siProperties"]
            };
          }
        });
        p.request.properties.addText({
          name: "createdByUserId",
          label: "User ID who created this Change Set",
          options: function options(p) {
            p.required = true;
          }
        });
        p.reply.properties.addLink({
          name: "item",
          label: "".concat(c.displayTypeName, " Item"),
          options: function options(p) {
            p.lookup = {
              typeName: "changeSet"
            };
          }
        });
      }
    });
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3NpLWFjY291bnQvY2hhbmdlU2V0LnRzIl0sIm5hbWVzIjpbInJlZ2lzdHJ5Iiwic3lzdGVtIiwidHlwZU5hbWUiLCJkaXNwbGF5VHlwZU5hbWUiLCJzaVBhdGhOYW1lIiwic2VydmljZU5hbWUiLCJvcHRpb25zIiwiYyIsImFzc29jaWF0aW9ucyIsImJlbG9uZ3NUbyIsImZyb21GaWVsZFBhdGgiLCJmaWVsZHMiLCJhZGRPYmplY3QiLCJuYW1lIiwibGFiZWwiLCJwIiwicmVxdWlyZWQiLCJwcm9wZXJ0aWVzIiwiYWRkVGV4dCIsImFkZE51bWJlciIsIm51bWJlcktpbmQiLCJiYXNlRGVmYXVsdFZhbHVlIiwiYWRkRW51bSIsInZhcmlhbnRzIiwiYWRkTGlzdE1ldGhvZCIsImFkZEdldE1ldGhvZCIsIm1ldGhvZHMiLCJhZGRNZXRob2QiLCJtdXRhdGlvbiIsInJlcXVlc3QiLCJhZGRMaW5rIiwibG9va3VwIiwibmFtZXMiLCJyZXBseSJdLCJtYXBwaW5ncyI6Ijs7QUFPQTs7QUFHQUEsbUJBQVNDLE1BQVQsQ0FBZ0I7QUFDZEMsRUFBQUEsUUFBUSxFQUFFLFdBREk7QUFFZEMsRUFBQUEsZUFBZSxFQUFFLDhCQUZIO0FBR2RDLEVBQUFBLFVBQVUsRUFBRSxZQUhFO0FBSWRDLEVBQUFBLFdBQVcsRUFBRSxTQUpDO0FBS2RDLEVBQUFBLE9BTGMsbUJBS05DLENBTE0sRUFLVztBQUN2QkEsSUFBQUEsQ0FBQyxDQUFDQyxZQUFGLENBQWVDLFNBQWYsQ0FBeUI7QUFDdkJDLE1BQUFBLGFBQWEsRUFBRSxDQUFDLGNBQUQsRUFBaUIsa0JBQWpCLENBRFE7QUFFdkJSLE1BQUFBLFFBQVEsRUFBRTtBQUZhLEtBQXpCO0FBSUFLLElBQUFBLENBQUMsQ0FBQ0MsWUFBRixDQUFlQyxTQUFmLENBQXlCO0FBQ3ZCQyxNQUFBQSxhQUFhLEVBQUUsQ0FBQyxjQUFELEVBQWlCLGdCQUFqQixDQURRO0FBRXZCUixNQUFBQSxRQUFRLEVB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O0FBRzNCUixVQUFBQSxPQUgyQixtQkFHbkJTLENBSG1CLEVBR2hCO0FBQ1RBLFlBQUFBLENBQUMsQ0FBQ0MsUUFBRixHQUFhLElBQWI7QUFDRDtBQUwwQixTQUE3QjtBQU9BRCxRQUFBQSxDQUFDLENBQUNrQixLQUFGLENBQVFoQixVQUFSLENBQW1CYSxPQUFuQixDQUEyQjtBQUN6QmpCLFVBQUFBLElBQUksRUFBRSxNQURtQjtBQUV6QkMsVUFBQUEsS0FBSyxZQUFLUCxDQUFDLENBQUNKLGVBQVAsVUFGb0I7QUFHekJHLFVBQUFBLE9BSHlCLG1CQUdqQlMsQ0FIaUIsRUFHSjtBQUNuQkEsWUFBQUEsQ0FBQyxDQUFDZ0IsTUFBRixHQUFXO0FBQ1Q3QixjQUFBQSxRQUFRLEVBQUU7QUFERCxhQUFYO0FBR0Q7QUFQd0IsU0FBM0I7QUFTRDtBQTlDaUIsS0FBcEI7QUFnREQ7QUEzSGEsQ0FBaEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBQcm9wRW51bSxcbiAgUHJvcE9iamVjdCxcbiAgUHJvcE1ldGhvZCxcbiAgUHJvcExpbmssXG4gIFByb3BOdW1iZXIsXG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL3ByZWx1ZGVcIjtcbmltcG9ydCB7IHJlZ2lzdHJ5IH0gZnJvbSBcIi4uLy4uL3JlZ2lzdHJ5XCI7XG5pbXBvcnQgeyBTeXN0ZW1PYmplY3QgfSBmcm9tIFwiLi4vLi4vc3lzdGVtQ29tcG9uZW50XCI7XG5cbnJlZ2lzdHJ5LnN5c3RlbSh7XG4gIHR5cGVOYW1lOiBcImNoYW5nZVNldFwiLFxuICBkaXNwbGF5VHlwZU5hbWU6IFwiQSBjaGFuZ2Ugc2V0IGZvciB5b3VyIHN5c3RlbVwiLFxuICBzaVBhdGhOYW1lOiBcInNpLWFjY291bnRcIixcbiAgc2VydmljZU5hbWU6IFwiYWNjb3VudFwiLFxuICBvcHRpb25zKGM6IFN5c3RlbU9iamVjdCkge1xuICAgIGMuYXNzb2NpYXRpb25zLmJlbG9uZ3NUbyh7XG4gICAgICBmcm9tRmllbGRQYXRoOiBbXCJzaVByb3BlcnRpZXNcIiwgXCJiaWxsaW5nQWNjb3VudElkXCJdLFxuICAgICAgdHlwZU5hbWU6IFwiYmlsbGluZ0FjY291bnRcIixcbiAgICB9KTtcbiAgICBjLmFzc29jaWF0aW9ucy5iZWxvbmdzVG8oe1xuICAgICAgZnJvbUZpZWxkUGF0aDogW1wic2lQcm9wZXJ0aWVzXCIsIFwib3JnYW5pemF0aW9uSWRcIl0sXG4gICAgICB0eXBlTmFtZTogXCJvcmdhbml6YXRpb25cIixcbiAgICB9KTtcbiAgICBjLmFzc29jaWF0aW9ucy5iZWxvbmdzVG8oe1xuICAgICAgZnJvbUZpZWxkUGF0aDogW1wic2lQcm9wZXJ0aWVzXCIsIFwid29ya3NwYWNlSWRcIl0sXG4gICAgICB0eXBlTmFtZTogXCJ3b3Jrc3BhY2VcIixcbiAgICB9KTtcblxuICAgIGMuZmllbGRzLmFkZE9iamVjdCh7XG4gICAgICBuYW1lOiBcInNpUHJvcGVydGllc1wiLFxuICAgICAgbGFiZWw6IFwiU0kgSW50ZXJuYWwgUHJvcGVydGllc1wiLFxuICAgICAgb3B0aW9ucyhwOiBQcm9wT2JqZWN0KSB7XG4gICAgICAgIHAucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICBwLnByb3BlcnRpZXMuYWRkVGV4dCh7XG4gICAgICAgICAgbmFtZTogXCJiaWxsaW5nQWNjb3VudElkXCIsXG4gICAgICAgICAgbGFiZWw6IFwiQmlsbGluZyBBY2NvdW50IElEXCIsXG4gICAgICAgICAgb3B0aW9ucyhwKSB7XG4gICAgICAgICAgICBwLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5wcm9wZXJ0aWVzLmFkZFRleHQoe1xuICAgICAgICAgIG5hbWU6IFwib3JnYW5pemF0aW9uSWRcIixcbiAgICAgICAgICBsYWJlbDogXCJPcmdhbml6YXRpb24gSURcIixcbiAgICAgICAgICBvcHRpb25zKHApIHtcbiAgICAgICAgICAgIHAucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBwLnByb3BlcnRpZXMuYWRkVGV4dCh7XG4gICAgICAgICAgbmFtZTogXCJ3b3Jrc3BhY2VJZFwiLFxuICAgICAgICAgIGxhYmVsOiBcIk9yZ2FuaXphdGlvbiBJRFwiLFxuICAgICAgICAgIG9wdGlvbnMocCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgYy5maWVsZHMuYWRkVGV4dCh7XG4gICAgICBuYW1lOiBcImNyZWF0ZWRCeVVzZXJJZFwiLFxuICAgICAgbGFiZWw6IFwiVXNlciBJRCB3aG8gY3JlYXRlZCB0aGlzIENoYW5nZSBTZXRcIixcbiAgICAgIG9wdGlvbnMocCkge1xuICAgICAgICBwLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgYy5maWVsZHMuYWRkTnVtYmVyKHtcbiAgICAgIG5hbWU6IFwiZW50cnlDb3VudFwiLFxuICAgICAgbGFiZWw6IFwiRW50cnkgQ291bnRcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcE51bWJlcikge1xuICAgICAgICBwLm51bWJlcktpbmQgPSBcInVpbnQ2NFwiO1xuICAgICAgICBwLmJhc2VEZWZhdWx0VmFsdWUgPSBcIjBcIjtcbiAgICAgIH0sXG4gICAgfSk7XG4gICAgYy5maWVsZHMuYWRkRW51bSh7XG4gICAgICBuYW1lOiBcInN0YXR1c1wiLFxuICAgICAgbGFiZWw6IFwiVGhlIHN0YXR1cyBvZiB0aGlzIENoYW5nZSBTZXRcIixcbiAgICAgIG9wdGlvbnMocDogUHJvcEVudW0pIHtcbiAgICAgICAgcC52YXJpYW50cyA9IFtcIm9wZW5cIiwgXCJjbG9zZWRcIiwgXCJhYmFuZG9uZWRcIl07XG4gICAgICAgIHAuYmFzZURlZmF1bHRWYWx1ZSA9IFwib3BlblwiO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGMuYWRkTGlzdE1ldGhvZCgpO1xuICAgIGMuYWRkR2V0TWV0aG9kKCk7XG5cbiAgICBjLm1ldGhvZHMuYWRkTWV0aG9kKHtcbiAgICAgIG5hbWU6IFwiY3JlYXRlXCIsXG4gICAgICBsYWJlbDogXCJDcmVhdGUgYSBDaGFuZ2UgU2V0XCIsXG4gICAgICBvcHRpb25zKHA6IFByb3BNZXRob2QpIHtcbiAgICAgICAgcC5tdXRhdGlvbiA9IHRydWU7XG4gICAgICAgIHAucmVxdWVzdC5wcm9wZXJ0aWVzLmFkZFRleHQoe1xuICAgICAgICAgIG5hbWU6IFwibmFtZVwiLFxuICAgICAgICAgIGxhYmVsOiBcIk5hbWUgb2YgdGhlIGNoYW5nZXNldFwiLFxuICAgICAgICAgIG9wdGlvbnMocCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucmVxdWVzdC5wcm9wZXJ0aWVzLmFkZFRleHQoe1xuICAgICAgICAgIG5hbWU6IFwiZGlzcGxheU5hbWVcIixcbiAgICAgICAgICBsYWJlbDogXCJDaGFuZ2UgU2V0IGRpc3BsYXkgbmFtZVwiLFxuICAgICAgICAgIG9wdGlvbnMocCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucmVxdWVzdC5wcm9wZXJ0aWVzLmFkZExpbmsoe1xuICAgICAgICAgIG5hbWU6IFwic2lQcm9wZXJ0aWVzXCIsXG4gICAgICAgICAgbGFiZWw6IFwiVGhlIFNJIFByb3BlcnRpZXMgZm9yIHRoaXMgVXNlclwiLFxuICAgICAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgICAgIHAucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgcC5sb29rdXAgPSB7XG4gICAgICAgICAgICAgIHR5cGVOYW1lOiBcImNoYW5nZVNldFwiLFxuICAgICAgICAgICAgICBuYW1lczogW1wic2lQcm9wZXJ0aWVzXCJdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcC5yZXF1ZXN0LnByb3BlcnRpZXMuYWRkVGV4dCh7XG4gICAgICAgICAgbmFtZTogXCJjcmVhdGVkQnlVc2VySWRcIixcbiAgICAgICAgICBsYWJlbDogXCJVc2VyIElEIHdobyBjcmVhdGVkIHRoaXMgQ2hhbmdlIFNldFwiLFxuICAgICAgICAgIG9wdGlvbnMocCkge1xuICAgICAgICAgICAgcC5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHAucmVwbHkucHJvcGVydGllcy5hZGRMaW5rKHtcbiAgICAgICAgICBuYW1lOiBcIml0ZW1cIixcbiAgICAgICAgICBsYWJlbDogYCR7Yy5kaXNwbGF5VHlwZU5hbWV9IEl0ZW1gLFxuICAgICAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgICAgIHAubG9va3VwID0ge1xuICAgICAgICAgICAgICB0eXBlTmFtZTogXCJjaGFuZ2VTZXRcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuICB9LFxufSk7XG4iXX0=