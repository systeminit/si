"use strict";

var _systemComponent = require("./systemComponent");

var _registry = require("./registry");

test("create component and entity", function (done) {
  _registry.registry.componentAndEntity({
    typeName: "kubernetesDeployment",
    displayTypeName: "Kubernetes Deployment Object",
    siPathName: "si-kubernetes",
    serviceName: "kubernetes",
    options: function options(c) {
      c.constraints.addText({
        name: "mybutt",
        label: "your buytt"
      });
    }
  });

  expect(_registry.registry.objects.length).toBe(3);
  done();
});
test("createSystemComponent", function (done) {
  var c = new _systemComponent.SystemObject({
    typeName: "billingAccount",
    displayTypeName: "Billing Account",
    siPathName: "si-account",
    serviceName: "whatwhat"
  });
  c.fields.addText({
    name: "something",
    label: "just to have one",
    options: function options(p) {
      p.universal = true;
    }
  });
  c.methods.addMethod({
    name: "create",
    label: "Create a new billing account",
    options: function options(p) {
      p.request.properties.addText({
        name: "name",
        label: "Billing Account Name"
      });
      p.reply.properties.addLink({
        name: "billingAccount",
        label: "Billing Account",
        options: function options(p) {
          p.lookup = {
            typeName: "billingAccount",
            names: []
          };
        }
      });
    }
  });
  done();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zeXN0ZW1Db21wb25lbnQudGVzdC50cyJdLCJuYW1lcyI6WyJ0ZXN0IiwiZG9uZSIsInJlZ2lzdHJ5IiwiY29tcG9uZW50QW5kRW50aXR5IiwidHlwZU5hbWUiLCJkaXNwbGF5VHlwZU5hbWUiLCJzaVBhdGhOYW1lIiwic2VydmljZU5hbWUiLCJvcHRpb25zIiwiYyIsImNvbnN0cmFpbnRzIiwiYWRkVGV4dCIsIm5hbWUiLCJsYWJlbCIsImV4cGVjdCIsIm9iamVjdHMiLCJsZW5ndGgiLCJ0b0JlIiwiU3lzdGVtT2JqZWN0IiwiZmllbGRzIiwicCIsInVuaXZlcnNhbCIsIm1ldGhvZHMiLCJhZGRNZXRob2QiLCJyZXF1ZXN0IiwicHJvcGVydGllcyIsInJlcGx5IiwiYWRkTGluayIsImxvb2t1cCIsIm5hbWVzIl0sIm1hcHBpbmdzIjoiOztBQUdBOztBQUVBOztBQUVBQSxJQUFJLENBQUMsNkJBQUQsRUFBZ0MsVUFBQUMsSUFBSSxFQUFJO0FBQzFDQyxxQkFBU0Msa0JBQVQsQ0FBNEI7QUFDMUJDLElBQUFBLFFBQVEsRUFBRSxzQkFEZ0I7QUFFMUJDLElBQUFBLGVBQWUsRUFBRSw4QkFGUztBQUcxQkMsSUFBQUEsVUFBVSxFQUFFLGVBSGM7QUFJMUJDLElBQUFBLFdBQVcsRUFBRSxZQUphO0FBSzFCQyxJQUFBQSxPQUwwQixtQkFLbEJDLENBTGtCLEVBS2Y7QUFDVEEsTUFBQUEsQ0FBQyxDQUFDQyxXQUFGLENBQWNDLE9BQWQsQ0FBc0I7QUFDcEJDLFFBQUFBLElBQUksRUFBRSxRQURjO0FBRXBCQyxRQUFBQSxLQUFLLEVBQUU7QUFGYSxPQUF0QjtBQUlEO0FBVnlCLEdBQTVCOztBQVlBQyxFQUFBQSxNQUFNLENBQUNaLG1CQUFTYSxPQUFULENBQWlCQyxNQUFsQixDQUFOLENBQWdDQyxJQUFoQyxDQUFxQyxDQUFyQztBQUNBaEIsRUFBQUEsSUFBSTtBQUNMLENBZkcsQ0FBSjtBQWlCQUQsSUFBSSxDQUFDLHVCQUFELEVBQTBCLFVBQUFDLElBQUksRUFBSTtBQUNwQyxNQUFNUSxDQUFDLEdBQUcsSUFBSVMsNkJBQUosQ0FBaUI7QUFDekJkLElBQUFBLFFBQVEsRUFBRSxnQkFEZTtBQUV6QkMsSUFBQUEsZUFBZSxFQUFFLGlCQUZRO0FBR3pCQyxJQUFBQSxVQUFVLEVBQUUsWUFIYTtBQUl6QkMsSUFBQUEsV0FBVyxFQUFFO0FBSlksR0FBakIsQ0FBVjtBQU9BRSxFQUFBQSxDQUFDLENBQUNVLE1BQUYsQ0FBU1IsT0FBVCxDQUFpQjtBQUNmQyxJQUFBQSxJQUFJLEVBQUUsV0FEUztBQUVmQyxJQUFBQSxLQUFLLEVBQUUsa0JBRlE7QUFHZkwsSUFBQUEsT0FIZSxtQkFHUFksQ0FITyxFQUdNO0FBQ25CQSxNQUFBQSxDQUFDLENBQUNDLFNBQUYsR0FBYyxJQUFkO0FBQ0Q7QUFMYyxHQUFqQjtBQVFBWixFQUFBQSxDQUFDLENBQUNhLE9BQUYsQ0FBVUMsU0FBVixDQUFvQjtBQUNsQlgsSUFBQUEsSUFBSSxFQUFFLFFBRFk7QUFFbEJDLElBQUFBLEtBQUssRUFBRSw4QkFGVztBQUdsQkwsSUFBQUEsT0FIa0IsbUJBR1ZZLENBSFUsRUFHSztBQUNyQkEsTUFBQUEsQ0FBQyxDQUFDSSxPQUFGLENBQVVDLFVBQVYsQ0FBcUJkLE9BQXJCLENBQTZCO0FBQzNCQyxRQUFBQSxJQUFJLEVBQUUsTUFEcUI7QUFFM0JDLFFBQUFBLEtBQUssRUFBRTtBQUZvQixPQUE3QjtBQUlBTyxNQUFBQSxDQUFDLENBQUNNLEtBQUYsQ0FBUUQsVUFBUixDQUFtQkUsT0FBbkIsQ0FBMkI7QUFDekJmLFFBQUFBLElBQUksRUFBRSxnQkFEbUI7QUFFekJDLFFBQUFBLEtBQUssRUFBRSxpQkFGa0I7QUFHekJMLFFBQUFBLE9BSHlCLG1CQUdqQlksQ0FIaUIsRUFHSjtBQUNuQkEsVUFBQUEsQ0FBQyxDQUFDUSxNQUFGLEdBQVc7QUFDVHhCLFlBQUFBLFFBQVEsRUFBRSxnQkFERDtBQUVUeUIsWUFBQUEsS0FBSyxFQUFFO0FBRkUsV0FBWDtBQUlEO0FBUndCLE9BQTNCO0FBVUQ7QUFsQmlCLEdBQXBCO0FBb0JBNUIsRUFBQUEsSUFBSTtBQUNMLENBckNHLENBQUoiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm9wTWV0aG9kIH0gZnJvbSBcIi4vYXR0ckxpc3RcIjtcbmltcG9ydCB7IFByb3BMaW5rIH0gZnJvbSBcIi4vcHJvcC9saW5rXCI7XG5pbXBvcnQgeyBQcm9wVGV4dCB9IGZyb20gXCIuL3Byb3AvdGV4dFwiO1xuaW1wb3J0IHsgU3lzdGVtT2JqZWN0IH0gZnJvbSBcIi4vc3lzdGVtQ29tcG9uZW50XCI7XG5cbmltcG9ydCB7IHJlZ2lzdHJ5IH0gZnJvbSBcIi4vcmVnaXN0cnlcIjtcblxudGVzdChcImNyZWF0ZSBjb21wb25lbnQgYW5kIGVudGl0eVwiLCBkb25lID0+IHtcbiAgcmVnaXN0cnkuY29tcG9uZW50QW5kRW50aXR5KHtcbiAgICB0eXBlTmFtZTogXCJrdWJlcm5ldGVzRGVwbG95bWVudFwiLFxuICAgIGRpc3BsYXlUeXBlTmFtZTogXCJLdWJlcm5ldGVzIERlcGxveW1lbnQgT2JqZWN0XCIsXG4gICAgc2lQYXRoTmFtZTogXCJzaS1rdWJlcm5ldGVzXCIsXG4gICAgc2VydmljZU5hbWU6IFwia3ViZXJuZXRlc1wiLFxuICAgIG9wdGlvbnMoYykge1xuICAgICAgYy5jb25zdHJhaW50cy5hZGRUZXh0KHtcbiAgICAgICAgbmFtZTogXCJteWJ1dHRcIixcbiAgICAgICAgbGFiZWw6IFwieW91ciBidXl0dFwiLFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG4gIGV4cGVjdChyZWdpc3RyeS5vYmplY3RzLmxlbmd0aCkudG9CZSgzKTtcbiAgZG9uZSgpO1xufSk7XG5cbnRlc3QoXCJjcmVhdGVTeXN0ZW1Db21wb25lbnRcIiwgZG9uZSA9PiB7XG4gIGNvbnN0IGMgPSBuZXcgU3lzdGVtT2JqZWN0KHtcbiAgICB0eXBlTmFtZTogXCJiaWxsaW5nQWNjb3VudFwiLFxuICAgIGRpc3BsYXlUeXBlTmFtZTogXCJCaWxsaW5nIEFjY291bnRcIixcbiAgICBzaVBhdGhOYW1lOiBcInNpLWFjY291bnRcIixcbiAgICBzZXJ2aWNlTmFtZTogXCJ3aGF0d2hhdFwiLFxuICB9KTtcblxuICBjLmZpZWxkcy5hZGRUZXh0KHtcbiAgICBuYW1lOiBcInNvbWV0aGluZ1wiLFxuICAgIGxhYmVsOiBcImp1c3QgdG8gaGF2ZSBvbmVcIixcbiAgICBvcHRpb25zKHA6IFByb3BUZXh0KSB7XG4gICAgICBwLnVuaXZlcnNhbCA9IHRydWU7XG4gICAgfSxcbiAgfSk7XG5cbiAgYy5tZXRob2RzLmFkZE1ldGhvZCh7XG4gICAgbmFtZTogXCJjcmVhdGVcIixcbiAgICBsYWJlbDogXCJDcmVhdGUgYSBuZXcgYmlsbGluZyBhY2NvdW50XCIsXG4gICAgb3B0aW9ucyhwOiBQcm9wTWV0aG9kKSB7XG4gICAgICBwLnJlcXVlc3QucHJvcGVydGllcy5hZGRUZXh0KHtcbiAgICAgICAgbmFtZTogXCJuYW1lXCIsXG4gICAgICAgIGxhYmVsOiBcIkJpbGxpbmcgQWNjb3VudCBOYW1lXCIsXG4gICAgICB9KTtcbiAgICAgIHAucmVwbHkucHJvcGVydGllcy5hZGRMaW5rKHtcbiAgICAgICAgbmFtZTogXCJiaWxsaW5nQWNjb3VudFwiLFxuICAgICAgICBsYWJlbDogXCJCaWxsaW5nIEFjY291bnRcIixcbiAgICAgICAgb3B0aW9ucyhwOiBQcm9wTGluaykge1xuICAgICAgICAgIHAubG9va3VwID0ge1xuICAgICAgICAgICAgdHlwZU5hbWU6IFwiYmlsbGluZ0FjY291bnRcIixcbiAgICAgICAgICAgIG5hbWVzOiBbXSxcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSxcbiAgfSk7XG4gIGRvbmUoKTtcbn0pO1xuIl19