"use strict";

var _systemComponent = require("./systemComponent");

var _registry = require("./registry");

test("create component and entity", function (done) {
  _registry.registry.componentAndEntity({
    typeName: "kubernetesDeployment",
    displayTypeName: "Kubernetes Deployment Object",
    siPathName: "si-kubernetes",
    options: function options(c) {
      c.constraints.addText({
        name: "mybutt",
        label: "your buytt"
      });
    }
  });

  expect(_registry.registry.objects.length).toBe(3);
  done();
});
test("createSystemComponent", function (done) {
  var c = new _systemComponent.SystemObject({
    typeName: "billingAccount",
    displayTypeName: "Billing Account",
    siPathName: "si-account"
  });
  c.fields.addText({
    name: "something",
    label: "just to have one",
    options: function options(p) {
      p.universal = true;
    }
  });
  c.methods.addMethod({
    name: "create",
    label: "Create a new billing account",
    options: function options(p) {
      p.request.addText({
        name: "name",
        label: "Billing Account Name"
      });
      p.reply.addLink({
        name: "billingAccount",
        label: "Billing Account",
        options: function options(p) {
          p.lookup = {
            typeName: "billingAccount",
            names: []
          };
        }
      });
    }
  });
  done();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zeXN0ZW1Db21wb25lbnQudGVzdC50cyJdLCJuYW1lcyI6WyJ0ZXN0IiwiZG9uZSIsInJlZ2lzdHJ5IiwiY29tcG9uZW50QW5kRW50aXR5IiwidHlwZU5hbWUiLCJkaXNwbGF5VHlwZU5hbWUiLCJzaVBhdGhOYW1lIiwib3B0aW9ucyIsImMiLCJjb25zdHJhaW50cyIsImFkZFRleHQiLCJuYW1lIiwibGFiZWwiLCJleHBlY3QiLCJvYmplY3RzIiwibGVuZ3RoIiwidG9CZSIsIlN5c3RlbU9iamVjdCIsImZpZWxkcyIsInAiLCJ1bml2ZXJzYWwiLCJtZXRob2RzIiwiYWRkTWV0aG9kIiwicmVxdWVzdCIsInJlcGx5IiwiYWRkTGluayIsImxvb2t1cCIsIm5hbWVzIl0sIm1hcHBpbmdzIjoiOztBQUdBOztBQUVBOztBQUVBQSxJQUFJLENBQUMsNkJBQUQsRUFBZ0MsVUFBQUMsSUFBSSxFQUFJO0FBQzFDQyxxQkFBU0Msa0JBQVQsQ0FBNEI7QUFDMUJDLElBQUFBLFFBQVEsRUFBRSxzQkFEZ0I7QUFFMUJDLElBQUFBLGVBQWUsRUFBRSw4QkFGUztBQUcxQkMsSUFBQUEsVUFBVSxFQUFFLGVBSGM7QUFJMUJDLElBQUFBLE9BSjBCLG1CQUlsQkMsQ0FKa0IsRUFJZjtBQUNUQSxNQUFBQSxDQUFDLENBQUNDLFdBQUYsQ0FBY0MsT0FBZCxDQUFzQjtBQUNwQkMsUUFBQUEsSUFBSSxFQUFFLFFBRGM7QUFFcEJDLFFBQUFBLEtBQUssRUFBRTtBQUZhLE9BQXRCO0FBSUQ7QUFUeUIsR0FBNUI7O0FBV0FDLEVBQUFBLE1BQU0sQ0FBQ1gsbUJBQVNZLE9BQVQsQ0FBaUJDLE1BQWxCLENBQU4sQ0FBZ0NDLElBQWhDLENBQXFDLENBQXJDO0FBQ0FmLEVBQUFBLElBQUk7QUFDTCxDQWRHLENBQUo7QUFnQkFELElBQUksQ0FBQyx1QkFBRCxFQUEwQixVQUFBQyxJQUFJLEVBQUk7QUFDcEMsTUFBTU8sQ0FBQyxHQUFHLElBQUlTLDZCQUFKLENBQWlCO0FBQ3pCYixJQUFBQSxRQUFRLEVBQUUsZ0JBRGU7QUFFekJDLElBQUFBLGVBQWUsRUFBRSxpQkFGUTtBQUd6QkMsSUFBQUEsVUFBVSxFQUFFO0FBSGEsR0FBakIsQ0FBVjtBQU1BRSxFQUFBQSxDQUFDLENBQUNVLE1BQUYsQ0FBU1IsT0FBVCxDQUFpQjtBQUNmQyxJQUFBQSxJQUFJLEVBQUUsV0FEUztBQUVmQyxJQUFBQSxLQUFLLEVBQUUsa0JBRlE7QUFHZkwsSUFBQUEsT0FIZSxtQkFHUFksQ0FITyxFQUdNO0FBQ25CQSxNQUFBQSxDQUFDLENBQUNDLFNBQUYsR0FBYyxJQUFkO0FBQ0Q7QUFMYyxHQUFqQjtBQVFBWixFQUFBQSxDQUFDLENBQUNhLE9BQUYsQ0FBVUMsU0FBVixDQUFvQjtBQUNsQlgsSUFBQUEsSUFBSSxFQUFFLFFBRFk7QUFFbEJDLElBQUFBLEtBQUssRUFBRSw4QkFGVztBQUdsQkwsSUFBQUEsT0FIa0IsbUJBR1ZZLENBSFUsRUFHSztBQUNyQkEsTUFBQUEsQ0FBQyxDQUFDSSxPQUFGLENBQVViLE9BQVYsQ0FBa0I7QUFDaEJDLFFBQUFBLElBQUksRUFBRSxNQURVO0FBRWhCQyxRQUFBQSxLQUFLLEVBQUU7QUFGUyxPQUFsQjtBQUlBTyxNQUFBQSxDQUFDLENBQUNLLEtBQUYsQ0FBUUMsT0FBUixDQUFnQjtBQUNkZCxRQUFBQSxJQUFJLEVBQUUsZ0JBRFE7QUFFZEMsUUFBQUEsS0FBSyxFQUFFLGlCQUZPO0FBR2RMLFFBQUFBLE9BSGMsbUJBR05ZLENBSE0sRUFHTztBQUNuQkEsVUFBQUEsQ0FBQyxDQUFDTyxNQUFGLEdBQVc7QUFDVHRCLFlBQUFBLFFBQVEsRUFBRSxnQkFERDtBQUVUdUIsWUFBQUEsS0FBSyxFQUFFO0FBRkUsV0FBWDtBQUlEO0FBUmEsT0FBaEI7QUFVRDtBQWxCaUIsR0FBcEI7QUFvQkExQixFQUFBQSxJQUFJO0FBQ0wsQ0FwQ0csQ0FBSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByb3BNZXRob2QgfSBmcm9tIFwiLi9hdHRyTGlzdFwiO1xuaW1wb3J0IHsgUHJvcExpbmsgfSBmcm9tIFwiLi9wcm9wL2xpbmtcIjtcbmltcG9ydCB7IFByb3BUZXh0IH0gZnJvbSBcIi4vcHJvcC90ZXh0XCI7XG5pbXBvcnQgeyBTeXN0ZW1PYmplY3QgfSBmcm9tIFwiLi9zeXN0ZW1Db21wb25lbnRcIjtcblxuaW1wb3J0IHsgcmVnaXN0cnkgfSBmcm9tIFwiLi9yZWdpc3RyeVwiO1xuXG50ZXN0KFwiY3JlYXRlIGNvbXBvbmVudCBhbmQgZW50aXR5XCIsIGRvbmUgPT4ge1xuICByZWdpc3RyeS5jb21wb25lbnRBbmRFbnRpdHkoe1xuICAgIHR5cGVOYW1lOiBcImt1YmVybmV0ZXNEZXBsb3ltZW50XCIsXG4gICAgZGlzcGxheVR5cGVOYW1lOiBcIkt1YmVybmV0ZXMgRGVwbG95bWVudCBPYmplY3RcIixcbiAgICBzaVBhdGhOYW1lOiBcInNpLWt1YmVybmV0ZXNcIixcbiAgICBvcHRpb25zKGMpIHtcbiAgICAgIGMuY29uc3RyYWludHMuYWRkVGV4dCh7XG4gICAgICAgIG5hbWU6IFwibXlidXR0XCIsXG4gICAgICAgIGxhYmVsOiBcInlvdXIgYnV5dHRcIixcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuICBleHBlY3QocmVnaXN0cnkub2JqZWN0cy5sZW5ndGgpLnRvQmUoMyk7XG4gIGRvbmUoKTtcbn0pO1xuXG50ZXN0KFwiY3JlYXRlU3lzdGVtQ29tcG9uZW50XCIsIGRvbmUgPT4ge1xuICBjb25zdCBjID0gbmV3IFN5c3RlbU9iamVjdCh7XG4gICAgdHlwZU5hbWU6IFwiYmlsbGluZ0FjY291bnRcIixcbiAgICBkaXNwbGF5VHlwZU5hbWU6IFwiQmlsbGluZyBBY2NvdW50XCIsXG4gICAgc2lQYXRoTmFtZTogXCJzaS1hY2NvdW50XCIsXG4gIH0pO1xuXG4gIGMuZmllbGRzLmFkZFRleHQoe1xuICAgIG5hbWU6IFwic29tZXRoaW5nXCIsXG4gICAgbGFiZWw6IFwianVzdCB0byBoYXZlIG9uZVwiLFxuICAgIG9wdGlvbnMocDogUHJvcFRleHQpIHtcbiAgICAgIHAudW5pdmVyc2FsID0gdHJ1ZTtcbiAgICB9LFxuICB9KTtcblxuICBjLm1ldGhvZHMuYWRkTWV0aG9kKHtcbiAgICBuYW1lOiBcImNyZWF0ZVwiLFxuICAgIGxhYmVsOiBcIkNyZWF0ZSBhIG5ldyBiaWxsaW5nIGFjY291bnRcIixcbiAgICBvcHRpb25zKHA6IFByb3BNZXRob2QpIHtcbiAgICAgIHAucmVxdWVzdC5hZGRUZXh0KHtcbiAgICAgICAgbmFtZTogXCJuYW1lXCIsXG4gICAgICAgIGxhYmVsOiBcIkJpbGxpbmcgQWNjb3VudCBOYW1lXCIsXG4gICAgICB9KTtcbiAgICAgIHAucmVwbHkuYWRkTGluayh7XG4gICAgICAgIG5hbWU6IFwiYmlsbGluZ0FjY291bnRcIixcbiAgICAgICAgbGFiZWw6IFwiQmlsbGluZyBBY2NvdW50XCIsXG4gICAgICAgIG9wdGlvbnMocDogUHJvcExpbmspIHtcbiAgICAgICAgICBwLmxvb2t1cCA9IHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBcImJpbGxpbmdBY2NvdW50XCIsXG4gICAgICAgICAgICBuYW1lczogW10sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xuICBkb25lKCk7XG59KTtcbiJdfQ==