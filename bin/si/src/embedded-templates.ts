/**
 * Embedded Templates - Template content embedded at compile time
 *
 * This file contains template content as string constants to ensure they're
 * always available in compiled binaries, regardless of the build system
 * (deno compile, Buck2, etc.)
 *
 * NOTE: This file is auto-generated by scripts/generate-embedded-templates.ts
 * Do not edit manually. To update templates, edit the source files in data/templates/
 * and run: deno run --allow-read --allow-write scripts/generate-embedded-templates.ts
 */

/** TypeScript template shell for template generation */
export const TEMPLATE_SHELL = `import { TemplateContext } from "jsr:@systeminit/si";

export default async function (ctx: TemplateContext) {
  ctx.search(["schema:*"]);
}
`;

/** Common System Initiative context (change sets, MCP server) */
export const PROVIDER_COMMON_TEMPLATE = `# System Initiative Assistant Guide

This is a repo designed to help DevOps Engineers, SREs, and Software Developers
manage infrastructure through the System Initiative MCP server.

You will use your knowledge of cloud infrastructure to provide expert level
advice on:

- Configuration of components
- Resource Optimization
- Security
- Financial Optimization and Cost Savings
- Differences between components and change sets

## Interacting with the System Initiative MCP server

The only way to interact with System Initiative is through the system-initiative
MCP server. Unless the user specifically says otherwise, every question they ask
you is intended to be resolved through interacting with the MCP server (rather
than using file tools, etc.)

## Change Sets

Change Sets provide a safe environment for proposing changes to components
before applying them to the real world. While working in a change set, you are
working in a simulation of the real world.

The HEAD change set is the current state of the outside world. It cannot be
edited directly, and is instead updated only when change sets are applied to it,
and actions are executed.

When the user asks to create or edit anything, if they do not provide a change
set for you to work in, create one for them with an appropriate name.

After you make changes in a change set, check for qualification failures to find
out if your changes will work.

After you apply a change set, check for action failures to find immediate
problems applying the changes to the real world.
`;

/** AWS infrastructure management documentation */
export const PROVIDER_AWS_TEMPLATE = `# AWS Components

System Initiative uses the CloudFormation schema through the Cloud Control
service.

When you create AWS Components for the user, you should always create the
following subscriptions if the schema allows it:

- /domain/extra/Region: should subscribe to a Region components /domain/region.
- /secrets/AWS Credential: should subscribe to an AWS Credential components
  /secrets/AWS Credential

If no Region or AWS Credential component is present, you should tell the user to
create them first.

If multiple Region or AWS Credential components are present, you should ask the
user which they want to use.

If you are working with AWS IAM components:

- Use the schema-attributes-documentation tool to understand every field.
- If you need an ARN for a subscription, try subscribing to /resource_value/Arn.

## üîç Schema Search Case Sensitivity

When checking for available AWS schemas (for example,
\`AWS::VpcLattice::Service\`), **System Initiative's schema search is
case-sensitive**. If a search for a schema name returns no results, try
alternate casing variations, such as:

- \`AWS::VpcLattice::Service\`
- \`AWS::VPCLattice::Service\`
- \`AWS::VPCLATTICE::Service\`

Searching across multiple case variations ensures accurate discovery of AWS
CloudFormation resources. For best results, always include all plausible casing
patterns when verifying schema availability.

## Using AWS Account Component with String Templates for IAM Policies

When creating IAM policies that require dynamic values like AWS Account ID, use
the **AWS Account** component with **String Template** components:

**Pattern:**

1. Create an **AWS Account** component to retrieve account information
2. Create **String Template** components to build dynamic ARNs or policy
   documents
3. Subscribe IAM components to the String Template's rendered output

**Example: GitHub OIDC Trust Policy**

1. Create AWS Account component:

   \`\`\`
   Component: aws-account-info (AWS Account)
   Attributes:
     /secrets/AWS Credential: {$source: {component: "credential-id", path: "/secrets/AWS Credential"}}
   \`\`\`

2. Create String Template for OIDC Provider ARN:

   \`\`\`
   Component: github-oidc-provider-arn (String Template)
   Attributes:
     /domain/Template: "arn:aws:iam::<%= AccountId %>:oidc-provider/token.actions.githubusercontent.com"
     /domain/Variables/AccountId: {$source: {component: "aws-account-info-id", path: "/domain/AccountData/Account"}}
   \`\`\`

3. Create String Template for trust policy document:

   \`\`\`
   Component: github-trust-policy (String Template)
   Attributes:
     /domain/Template: "{\\"Version\\": \\"2012-10-17\\", \\"Statement\\": [{\\"Effect\\": \\"Allow\\", \\"Principal\\": {\\"Federated\\": \\"<%= OidcProviderArn %>\\"}, \\"Action\\": \\"sts:AssumeRoleWithWebIdentity\\", \\"Condition\\": {\\"StringLike\\": {\\"token.actions.githubusercontent.com:sub\\": \\"repo:orgname/reponame:ref:refs/heads/main\\"}}}]}"
     /domain/Variables/OidcProviderArn: {$source: {component: "github-oidc-provider-arn-id", path: "/domain/Rendered/Value"}}
   \`\`\`

4. Use in IAM Role:
   \`\`\`
   Component: github-actions-role (AWS::IAM::Role)
   Attributes:
     /domain/AssumeRolePolicyDocument: {$source: {component: "github-trust-policy-id", path: "/domain/Rendered/Value"}}
   \`\`\`

**Available AWS Account Attributes:**

- \`/domain/AccountData/Account\` - AWS Account ID (12 digits)
- \`/domain/AccountData/Arn\` - ARN of the caller identity
- \`/domain/AccountData/UserId\` - Unique identifier of the caller

**String Template Usage:**

- Use \`<%= VariableName %>\` to insert variable values
- Access rendered output via \`/domain/Rendered/Value\`
- Can nest String Templates (subscribe one template to another's output)
- Use proper JSON escaping in policy documents

## AWS IAM Component Creation Guide

When creating and configuring AWS IAM components (roles, users, policies, etc.)
for specific use cases, follow these guidelines:

### Available AWS IAM Schemas

These are the ONLY IAM schemas available in System Initiative:

- **AWS::IAM::Role** - For service roles and cross-account access
- **AWS::IAM::User** - For human users or programmatic access
- **AWS::IAM::Group** - For grouping users with similar permissions
- **AWS::IAM::ManagedPolicy** - For reusable permission policies
- **AWS::IAM::RolePolicy** - For attaching managed policies to roles (by ARN)
- **AWS::IAM::UserPolicy** - For attaching managed policies to users (by ARN)
- **AWS::IAM::InstanceProfile** - For EC2 instance roles

**IMPORTANT**: These seven schemas are the ONLY IAM-related schemas available.
Do not attempt to create or reference any other IAM schemas as they do not exist
in this system.

**Key Distinction - AWS::IAM::RolePolicy in System Initiative:**

- In System Initiative, **AWS::IAM::RolePolicy** is used to **attach existing
  managed policies** to roles by their ARN
- This is different from AWS CloudFormation where RolePolicy is for inline
  policies
- To attach a managed policy: Create AWS::IAM::RolePolicy with
  \`/domain/PolicyArn\` subscribing to the managed policy's \`/resource_value/Arn\`
- AWS::IAM::RolePolicy does **NOT** have \`/domain/extra/Region\` - only
  \`/domain/RoleName\`, \`/domain/PolicyArn\`, and \`/secrets/AWS Credential\`

**Analyze Requirements**

- Based on the use case, determine which IAM components are needed
- Consider security best practices (principle of least privilege)
- Plan the relationships between components

**Query Schema Actions and Create Core IAM Components**

- **FIRST**: Use schema query tools to discover available actions for your
  target schema
- Start with the primary component (usually Role or User)
- Use component-create tool with appropriate schema
- Configure all required properties with proper values
- Note: Action names are System Initiative-specific, not standard AWS API names

**Configure Policies (CRITICAL - JSON Formatting)**

**Policy Configuration Rules:**

- ALWAYS provide complete, valid JSON as a string
- Use proper JSON escaping for quotes
- Include Version field ("2012-10-17")
- Follow AWS policy syntax exactly

**Good Example:**

\`\`\`
Trust policy for EC2 role:
"{
  \\"Version\\": \\"2012-10-17\\",
  \\"Statement\\": [{
    \\"Effect\\": \\"Allow\\",
    \\"Principal\\": { \\"Service\\": \\"ec2.amazonaws.com\\" },
    \\"Action\\": \\"sts:AssumeRole\\"
  }]
}"
\`\`\`

**Bad Example:**

\`\`\`
[object Object]
"{{ trust_policy }}"
undefined
\`\`\`

6. **Create Supporting Components**
   - Add any required ManagedPolicies with specific permissions
   - Create InstanceProfile if needed for EC2 roles

7. **Configure Relationships and Attach Policies**
   - Use component-update to set attribute subscriptions
   - Link roles to instance profiles
   - **To attach a managed policy to a role:**
     1. Create AWS::IAM::ManagedPolicy with the policy document
     2. Create AWS::IAM::RolePolicy component
     3. Set \`/domain/RoleName\` to subscribe to the role's \`/domain/RoleName\`
     4. Set \`/domain/PolicyArn\` to subscribe to the managed policy's
        \`/resource_value/Arn\`
     5. Set \`/secrets/AWS Credential\` subscription
   - Example:
     \`\`\`
     /domain/RoleName: {$source: {component: "role-id", path: "/domain/RoleName"}}
     /domain/PolicyArn: {$source: {component: "policy-id", path: "/resource_value/Arn"}}
     /secrets/AWS Credential: {$source: {component: "credential-id", path: "/secrets/AWS Credential"}}
     \`\`\`

8. **Validate Configuration and Check Qualifications**
   - Review all components for completeness
   - Ensure JSON policies are properly formatted
   - Verify relationships are correctly established
   - **CRITICAL**: Query the qualifications on each schema to check for
     validation errors before applying the change set
   - Address any qualification failures before proceeding

## Planning Framework

Before creating components, analyze:

- What AWS services need to be accessed?
- Is this for human users or service roles?
- What's the minimum set of permissions required?
- Are there existing policies that can be reused?
- What security constraints should be applied?

##### Common Policy Templates

**S3 Read-Only Access Policy:**

\`\`\`json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": ["s3:GetObject", "s3:ListBucket"],
      "Resource": ["arn:aws:s3:::bucket-name/*", "arn:aws:s3:::bucket-name"]
    }
  ]
}
\`\`\`

**Lambda Execution Role Trust Policy:**

\`\`\`json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": { "Service": "lambda.amazonaws.com" },
      "Action": "sts:AssumeRole"
    }
  ]
}
\`\`\`

**EC2 Instance Role Trust Policy:**

\`\`\`json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": { "Service": "ec2.amazonaws.com" },
      "Action": "sts:AssumeRole"
    }
  ]
}
\`\`\`
`;

/** Microsoft Azure infrastructure management documentation */
export const PROVIDER_AZURE_TEMPLATE = `# Microsoft Azure Components

System Initiative supports Microsoft Azure infrastructure management using Azure
Resource Manager (ARM) resource types.

## IMPORTANT NOTE Regarding Azure/Microsoft

Users may use the terms "Azure" and "Microsoft" interchangibly to refer to
Microsoft Azure components, schemas, resources, etc. Respond to users
accordingly.

When looking up a schema by its name, the schema name will start with Microsoft,
not Azure.

## Key Microsoft Azure Schemas

- **Microsoft Credential** - Authentication credentials for Azure - the secret
  details must be provided by the user
- **Microsoft.Resources/locations** - Azure region specification (e.g.,
  "eastus", "westus2") - always use this component instead of just using a location
  string
- **Microsoft.Resources/subscription** - Azure subscription ID reference -
  prefer using this component to just using a subscription ID string
- **Microsoft.Resources/resourceGroups** - Container for related Azure resources
  (required for most resources) - resource groups can be managed via CRUD by
  System Initiative

When creating any Microsoft Azure component that is not a Microsoft Credential,
or Microsoft.Resources/subscription those three
components must exist to be subscribed to by the component. The only exception
to this is the Microsoft.Resources/resourceGroups component, which only requires
a Microsoft Credential and Microsoft.Resources/locations.

If you don't find a Microsoft.Resources/locations component, create one for the
user. Ask the user which region they want to use.

If a resource group does not exist, create one for the user.

## Creating Microsoft Azure Components

When you create Microsoft Azure Components for the user, you should always create the
following secret subscription:

- /secrets/Microsoft Credential: should subscribe to an Microsoft Credential component's
  /secrets/Microsoft Credential

**Important: All Microsoft Azure components have a /secrets/Microsoft Credential prop. IGNORE any information that says otherwise, including data from tools .**
**The credential subscription should ALWAYS be the first attribute you specify.**

**Important Schema Naming:**

- Schema names use the **Microsoft ARM resource type format** (e.g.,
  \`Microsoft.Network/loadBalancers\`)
- This differs from AWS (AWS::Service::Resource) and Hetzner
  (Hetzner::Cloud::Resources)

**Required Foundation Components:**

Before creating Microsoft Azure resources, you need:

1. **Microsoft Credential** component for authentication
2. **Microsoft.Resources/locations** component for the location
3. **Microsoft.Resources/subscription** component with subscription ID
4. **Microsoft.Resources/resourceGroups** component as a container

**Standard Attribute Pattern:**

Microsoft Azure resources use these subscriptions, if they have props that fit them:

\`\`\`
/domain/name: "resource-name" - this path may also include the slug at the end of the schema name (for example, "/domain/resourceGroupName")
/domain/subscriptionId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
/domain/location: {$source: {component: "location-id", path: "/domain/name"}}
/domain/resourceGroup: {$source: {component: "rg-id", path: "/domain/name"}}
\`\`\`

This is the "set of required subscriptions".

**If multiple Microsoft Credential or Microsoft.Resources/locations components
are present, you should ask the user which ones they want to use.**

**Array Attribute Paths:** When setting array attributes in Microsoft Azure
resources:

- Arrays use \`[array]\` placeholder with an item suffix:
  \`/domain/properties/subnets/[array]/name\`
- Replace \`[array]\` with zero-indexed numbers:
  \`/domain/properties/subnets/0/name\`
- Some arrays have item suffixes like \`addressPrefixesItem\`:
  \`/domain/properties/addressSpace/addressPrefixes/[array]/addressPrefixesItem\`
- Always check the schema attributes to see the exact path structure
- Nested arrays follow the same pattern:
  \`/domain/properties/securityRules/[array]/properties/sourceAddressPrefixes/[array]/sourceAddressPrefixesItem\`

##### Using Microsoft ID Template for Azure Resource IDs

Microsoft Azure resources often require full resource IDs for references. Favor
getting this ID from the \`/resource_value/id\` of the subscribed component. If a
resource is not available, you can also use **Microsoft ID Template** components
(NOT generic String Templates) to build these dynamically:

**Microsoft ID Template Attributes:**

- \`/domain/Template\` - The full Azure resource ID pattern (optional, you can let
  it auto-generate from the variables)
- \`/domain/Variables/subId\` - Subscription ID (required) - subscribe to Azure
  Subscription component
- \`/domain/Variables/group\` - Resource group name (required) - subscribe to
  Resource Group component
- \`/domain/Variables/type\` - Azure resource type like
  \`Microsoft.Network/loadBalancers\` (required)
- \`/domain/Variables/resourceSubPath\` - Path to sub-resource like
  \`vnet1/subnets\` (optional)
- \`/domain/Variables/value\` - The resource name (required)
- \`/domain/Rendered/Value\` - The final rendered ID (DO NOT SET - this is the
  output you subscribe to)

**Pattern for simple resource IDs:**

\`\`\`
Component: lb-backend-pool-id (Microsoft ID Template)
Attributes:
  /domain/Variables/subId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/Variables/group: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/Variables/type: "Microsoft.Network/loadBalancers"
  /domain/Variables/resourceSubPath: {$source: {component: "lb-id", path: "/domain/name"}} + "/backendAddressPools"
  /domain/Variables/value: {$source: {component: "lb-id", path: "/domain/properties/backendAddressPools/0/name"}}
\`\`\`

**Pattern for nested sub-resources (e.g., subnet within VNet):**

\`\`\`
Component: subnet-id (Microsoft ID Template)
Attributes:
  /domain/Variables/subId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/Variables/group: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/Variables/type: "Microsoft.Network/virtualNetworks"
  /domain/Variables/resourceSubPath: "vnet1/subnets"
  /domain/Variables/value: "my-subnet"
\`\`\`

**Or specify the full template explicitly:**

\`\`\`
Component: resource-id (Microsoft ID Template)
Attributes:
  /domain/Template: "/subscriptions/MySubscriptionId/resourceGroups/MyResourceGroup/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/Subnet"
  /domain/Variables/subId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/Variables/group: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/Variables/type: "Microsoft.Network/virtualNetworks"
  /domain/Variables/value: "Subnet"
\`\`\`

**Access the rendered output by subscribing to:**

\`\`\`
/domain/Rendered/Value
\`\`\`

## Common Azure Resource Examples

**Example: Creating a Virtual Network**

\`\`\`
Component: my-vnet (Microsoft.Network/virtualNetworks)
Attributes:
  /secrets/Microsoft Credential: {$source: {component: "credential-id", path: "/secrets/Microsoft Credential"}}
  /domain/name: "my-vnet"
  /domain/subscriptionId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/location: {$source: {component: "location-id", path: "/domain/name"}}
  /domain/resourceGroup: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/properties/addressSpace/addressPrefixes/0/addressPrefixesItem: "10.0.0.0/16"
  /domain/properties/subnets/0/name: "default"
  /domain/properties/subnets/0/properties/addressPrefix: "10.0.0.0/24"
\`\`\`

**Example: Creating a Network Security Group**

\`\`\`
Component: my-nsg (Microsoft.Network/networkSecurityGroups)
Attributes:
  /secrets/Microsoft Credential: {$source: {component: "credential-id", path: "/secrets/Microsoft Credential"}}
  /domain/name: "my-nsg"
  /domain/subscriptionId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/location: {$source: {component: "location-id", path: "/domain/name"}}
  /domain/resourceGroup: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/properties/securityRules/0/name: "AllowHTTP"
  /domain/properties/securityRules/0/properties/protocol: "*"
  /domain/properties/securityRules/0/properties/sourcePortRange: "*"
  /domain/properties/securityRules/0/properties/destinationPortRange: "80"
  /domain/properties/securityRules/0/properties/sourceAddressPrefix: "Internet"
  /domain/properties/securityRules/0/properties/destinationAddressPrefix: "*"
  /domain/properties/securityRules/0/properties/access: "Allow"
  /domain/properties/securityRules/0/properties/priority: 100
  /domain/properties/securityRules/0/properties/direction: "Inbound"

Note: Use schema-attributes-list to verify the exact paths. Some NSG attributes may use item suffixes.
\`\`\`

**Example: Creating a Virtual Machine**

\`\`\`
Component: my-vm (Microsoft.Compute/virtualMachines)
Attributes:
  /secrets/Microsoft Credential: {$source: {component: "credential-id", path: "/secrets/Microsoft Credential"}}
  /domain/name: "my-vm"
  /domain/subscriptionId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/location: {$source: {component: "location-id", path: "/domain/name"}}
  /domain/resourceGroup: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/properties/hardwareProfile/vmSize: "Standard_B2s"
  /domain/properties/storageProfile/imageReference/publisher: "Canonical"
  /domain/properties/storageProfile/imageReference/offer: "0001-com-ubuntu-server-jammy"
  /domain/properties/storageProfile/imageReference/sku: "22_04-lts-gen2"
  /domain/properties/storageProfile/imageReference/version: "latest"
  /domain/properties/storageProfile/osDisk/createOption: "FromImage"
  /domain/properties/storageProfile/osDisk/managedDisk/storageAccountType: "Standard_LRS"
  /domain/properties/osProfile/computerName: "my-vm"
  /domain/properties/osProfile/adminUsername: "azureuser"
  /domain/properties/osProfile/adminPassword: "P@ssw0rd1234!"
  /domain/properties/osProfile/linuxConfiguration/disablePasswordAuthentication: false
  /domain/properties/networkProfile/networkInterfaces/0/id: {$source: {component: "nic-id", path: "/resource_value/id"}}

Note: Use schema-attributes-list to verify array attribute paths - some may require item suffixes.
\`\`\`

**Example: Creating a Load Balancer with Microsoft ID Templates**

\`\`\`
# 1. Create Microsoft ID Templates for Load Balancer sub-resources
Component: lb-frontend-ip-id (Microsoft ID Template)
Attributes:
  /domain/Variables/subId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/Variables/group: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/Variables/type: "Microsoft.Network/loadBalancers"
  /domain/Variables/resourceSubPath: "my-lb/frontendIPConfigurations"
  /domain/Variables/value: "LoadBalancerFrontEnd"

Component: lb-backend-pool-id (Microsoft ID Template)
Attributes:
  /domain/Variables/subId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/Variables/group: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/Variables/type: "Microsoft.Network/loadBalancers"
  /domain/Variables/resourceSubPath: "my-lb/backendAddressPools"
  /domain/Variables/value: "BackendPool"

Component: lb-probe-id (Microsoft ID Template)
Attributes:
  /domain/Variables/subId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/Variables/group: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/Variables/type: "Microsoft.Network/loadBalancers"
  /domain/Variables/resourceSubPath: "my-lb/probes"
  /domain/Variables/value: "HealthProbe"

# 2. Create Load Balancer
Component: my-lb (Microsoft.Network/loadBalancers)
Attributes:
  /secrets/Microsoft Credential: {$source: {component: "credential-id", path: "/secrets/Microsoft Credential"}}
  /domain/name: "my-lb"
  /domain/subscriptionId: {$source: {component: "subscription-id", path: "/domain/subscriptionId"}}
  /domain/location: {$source: {component: "location-id", path: "/domain/name"}}
  /domain/resourceGroup: {$source: {component: "rg-id", path: "/domain/name"}}
  /domain/sku/name: "Standard"
  /domain/sku/tier: "Regional"
  /domain/properties/frontendIPConfigurations/0/name: "LoadBalancerFrontEnd"
  /domain/properties/frontendIPConfigurations/0/id: {$source: {component: "lb-frontend-ip-id", path: "/domain/Rendered/Value"}}
  /domain/properties/frontendIPConfigurations/0/properties/publicIPAddress/id: {$source: {component: "public-ip-id", path: "/resource_value/id"}}
  /domain/properties/backendAddressPools/0/name: "BackendPool"
  /domain/properties/backendAddressPools/0/id: {$source: {component: "lb-backend-pool-id", path: "/domain/Rendered/Value"}}
  /domain/properties/probes/0/name: "HealthProbe"
  /domain/properties/probes/0/id: {$source: {component: "lb-probe-id", path: "/domain/Rendered/Value"}}
  /domain/properties/probes/0/properties/protocol: "Tcp"
  /domain/properties/probes/0/properties/port: 80
  /domain/properties/probes/0/properties/intervalInSeconds: 5
  /domain/properties/probes/0/properties/numberOfProbes: 2
\`\`\`

##### Azure Resource ID Format

Azure resource IDs follow this predictable pattern:

\`\`\`
/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceType}/{resourceName}
\`\`\`

For nested resources (like subnets within a VNet):

\`\`\`
/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{vnetName}/subnets/{subnetName}
\`\`\`

Use Microsoft ID Template components to build these IDs dynamically and
subscribe other resources to the rendered output.

## Planning Azure Infrastructure

Before creating Azure components:

1. Create foundation components (Credential, Location, Subscription)
2. Create Resource Group(s) to organize resources
3. Plan network topology (VNet, subnets, NSGs)
4. Create network resources before compute resources
5. Use **Microsoft ID Template** components for complex resource ID references
6. Ensure that every Microsoft Azure resource has a subscription to the set of required subscriptions where applicable. Create any missing subscriptions.
7. Check qualifications after each component creation
8. Apply change set and monitor actions for deployment status
`;

/** Hetzner Cloud infrastructure management documentation */
export const PROVIDER_HETZNER_TEMPLATE = `# Hetzner Cloud Components

System Initiative supports Hetzner Cloud infrastructure management through
dedicated schemas.

## Creating Hetzner Components

**Important Naming Convention:**

- Schema names use **plural** form (e.g., \`Hetzner::Cloud::Servers\`, not
  \`Server\`)

**Credential Requirements:** When creating Hetzner components, always set:

- \`/secrets/Hetzner Api Token\`: should subscribe to a
  Hetzner::Credential::ApiToken component's
  \`/secrets/Hetzner::Credential::ApiToken\`

**Free Resources:** These resources are free to create and maintain:

- SSH Keys
- Networks (private network definitions)
- Firewalls (firewall rule definitions)
- Placement Groups

**Array Attribute Paths:** When setting array attributes, the schema uses
specific patterns:

- For simple arrays like \`source_ips\`, use indexed path:
  \`/domain/rules/0/source_ips/0\`
- Do NOT append field names like \`source_ipsItem\` to indexed arrays

**Example: Creating a Network**

\`\`\`
/domain/name: "my-network"
/domain/ip_range: "10.0.0.0/16"
/domain/expose_routes_to_vswitch: false
/secrets/Hetzner Api Token: {$source: {component: "credential-id", path: "/secrets/Hetzner::Credential::ApiToken"}}
\`\`\`

**Example: Creating a Firewall**

\`\`\`
/domain/name: "my-firewall"
/domain/rules/0/direction: "in"
/domain/rules/0/protocol: "tcp"
/domain/rules/0/port: "22"
/domain/rules/0/source_ips/0: "0.0.0.0/0"
/domain/rules/0/description: "Allow SSH"
/secrets/Hetzner Api Token: {$source: {component: "credential-id", path: "/secrets/Hetzner::Credential::ApiToken"}}
\`\`\`
`;

/** DigitalOcean infrastructure management documentation */
export const PROVIDER_DIGITALOCEAN_TEMPLATE = `# DigitalOcean Components

System Initiative supports DigitalOcean infrastructure management through
dedicated schemas.

## Creating DigitalOcean Components

**Important Naming Convention:**

- Schema names have spaces between words, not colons, slashes, or hyphens.

**Credential Requirements:** When creating DigitalOcean components, always set:

- \`/secrets/DigitalOcean Credential\`: should subscribe to a DigitalOcean
  Credential component's \`/secrets/DigitalOcean Credential\`

## DigitalOcean Resource Actions

Most DigitalOcean resources support these actions:

- **Create Asset** - Create the resource in DigitalOcean
- **Update Asset** - Update existing resource
- **Refresh Asset** - Sync state from DigitalOcean
- **Delete Asset** - Remove the resource from DigitalOcean

And these management functions:

- **Import from DigitalOcean** - Import an existing resource by ID
- **Discover on DigitalOcean** - Discover all resources of this type
`;

/** Google Cloud infrastructure management documentation */
export const PROVIDER_GOOGLE_TEMPLATE = `# Google Cloud Components

System Initiative supports Google Cloud Platform (GCP) infrastructure management
using Google Cloud Compute Engine resource types.

## Creating Google Cloud Components

**Important Schema Naming:**

- Schema names use the **Google Cloud Compute Engine resource format** (e.g.,
  \`Google Cloud Compute Engine Networks\`)
- This differs from AWS (AWS::Service::Resource) and Azure
  (Microsoft.Provider/resource)

**Required Foundation Components:**

Before creating Google Cloud resources, you need a **Google Cloud Credential**
  component for authentication - the service account JSON secret must be
  provided by the user.

**Finding Google Cloud Schemas**

All Google Cloud schemas are generated using the Google APIs Discovery Service,
  which can be used to find what schemas are named. Reference for the Google APIs
  Discovery Service is available at this link - https://developers.google.com/discovery/v1/reference/apis

**Standard Attribute Pattern:**

Google Cloud resources typically require these attributes be set:

\`\`\`
/domain/name: "resource-name"
/secrets/Google Cloud Credential: {$source: {component: "credential-id", path: "/secrets/Google Cloud Credential"}}
\`\`\`

**If multiple Google Cloud Credential components are present, you should ask the
user which one they want to use.**

**Array Attribute Paths:** When setting array attributes:

- Arrays use \`[array]\` placeholder in the schema path
- Replace \`[array]\` with zero-indexed numbers: \`/domain/secondaryIpRanges/0/rangeName\`
- Some arrays have item suffixes: \`/domain/logConfig/metadataFields/[array]/metadataFieldsItem\`
- Always check schema attributes for exact path structure

**Using selfLink for Resource References:**

Google Cloud resources often expose a \`selfLink\` attribute that provides the
full resource URL. Use this for referencing resources:

\`\`\`
/domain/network: {$source: {component: "vpc-id", path: "/resource_value/selfLink"}}
\`\`\`

## Best Practices

**Security:**

- Use \`autoCreateSubnetworks: false\` for production VPCs (explicit control)
- Follow principle of least privilege for firewall rules
- Avoid \`0.0.0.0/0\` source ranges except for public-facing services
- Use \`targetTags\` and \`sourceTags\` to scope firewall rules to specific
  instances
- Enable \`privateIpGoogleAccess\` for private subnets to access Google APIs

**Network Design:**

- Use REGIONAL routing mode unless multi-region routing is needed
- Plan CIDR ranges to avoid overlap and allow for growth
- Consider secondary IP ranges for GKE clusters
- Use separate subnets for different tiers (web, app, data)

**NAT Configuration:**

- Use Cloud NAT for instances without external IPs
- Configure appropriate \`minPortsPerVm\` based on workload
- Enable NAT logging for troubleshooting (use ERRORS_ONLY to reduce costs)
- Consider \`AUTO_ONLY\` IP allocation for simplicity
`;

